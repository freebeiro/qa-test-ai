{"version":3,"file":"popup.bundle.js","mappings":";;;;AAAO,MAAMA,aAAa,CAAC;EACvBC,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,cAAc,GAAG,qCAAqC;IAC3D,IAAI,CAACC,KAAK,GAAG,iBAAiB;EAClC;EAEA,MAAMC,iBAAiBA,CAACC,gBAAgB,EAAE;IACtC,IAAI;MACA;MACA,MAAMC,UAAU,GAAGD,gBAAgB,CAACE,OAAO,CAAC,6BAA6B,EAAE,EAAE,CAAC;MAE9E,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,IAAI,CAACP,cAAc,EAAE;QAC9CQ,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE,kBAAkB;UAClC,eAAe,EAAE,UAAU;UAC3B,YAAY,EAAE,YAAY;UAC1B,6BAA6B,EAAE,GAAG;UAClC,8BAA8B,EAAE,oBAAoB;UACpD,8BAA8B,EAAE;QACpC,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACjBX,KAAK,EAAE,IAAI,CAACA,KAAK;UACjBY,MAAM,EAAE,KAAK;UACbC,MAAM,EAAE,oNAAoN;UAC5NC,MAAM,EAAE,CAACX,UAAU;QACvB,CAAC;MACL,CAAC,CAAC;MAEF,IAAI,CAACE,QAAQ,CAACU,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,8BAA8BX,QAAQ,CAACY,UAAU,EAAE,CAAC;MACxE;MAEA,MAAMC,IAAI,GAAG,MAAMb,QAAQ,CAACc,IAAI,CAAC,CAAC;MAClC,OAAO,IAAI,CAACC,mBAAmB,CAACF,IAAI,CAAC;IACzC,CAAC,CAAC,OAAOG,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C,MAAMA,KAAK;IACf;EACJ;EAEAD,mBAAmBA,CAACf,QAAQ,EAAE;IAC1B;IACA,MAAMkB,QAAQ,GAAG;MACbC,QAAQ,EAAE,IAAI,CAACC,eAAe,CAACpB,QAAQ,CAAC;MACxCqB,IAAI,EAAErB,QAAQ,CAACA,QAAQ;MAAE;MACzBsB,WAAW,EAAE,IAAI,CAACC,8BAA8B,CAACvB,QAAQ;IAC7D,CAAC;IAEDiB,OAAO,CAACO,GAAG,CAAC,kBAAkB,EAAEN,QAAQ,CAAC;IACzC,OAAOA,QAAQ;EACnB;EAEAE,eAAeA,CAACpB,QAAQ,EAAE;IACtB;IACA,MAAMmB,QAAQ,GAAG,EAAE;IAEnB,IAAI;MACA,MAAME,IAAI,GAAGrB,QAAQ,CAACA,QAAQ;;MAE9B;MACA,MAAMyB,aAAa,GAAGJ,IAAI,CAACK,KAAK,CAAC,kBAAkB,CAAC,IAAI,EAAE;MAC1D,MAAMC,WAAW,GAAGN,IAAI,CAACK,KAAK,CAAC,gBAAgB,CAAC,IAAI,EAAE;;MAEtD;MACA,MAAME,YAAY,GAAGP,IAAI,CAACK,KAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE;MACxD,MAAMG,WAAW,GAAGR,IAAI,CAACK,KAAK,CAAC,gBAAgB,CAAC,IAAI,EAAE;MAEtDP,QAAQ,CAACW,IAAI,CACT,GAAGL,aAAa,CAACM,GAAG,CAACL,KAAK,KAAK;QAAEM,IAAI,EAAE,QAAQ;QAAEC,WAAW,EAAEP;MAAM,CAAC,CAAC,CAAC,EACvE,GAAGC,WAAW,CAACI,GAAG,CAACL,KAAK,KAAK;QAAEM,IAAI,EAAE,MAAM;QAAEC,WAAW,EAAEP;MAAM,CAAC,CAAC,CAAC,EACnE,GAAGE,YAAY,CAACG,GAAG,CAACL,KAAK,KAAK;QAAEM,IAAI,EAAE,OAAO;QAAEC,WAAW,EAAEP;MAAM,CAAC,CAAC,CAAC,EACrE,GAAGG,WAAW,CAACE,GAAG,CAACL,KAAK,KAAK;QAAEM,IAAI,EAAE,MAAM;QAAEC,WAAW,EAAEP;MAAM,CAAC,CAAC,CACtE,CAAC;IACL,CAAC,CAAC,OAAOV,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IACtD;IAEA,OAAOG,QAAQ;EACnB;EAEAI,8BAA8BA,CAACvB,QAAQ,EAAE;IACrC,MAAMsB,WAAW,GAAG,EAAE;IACtB,IAAI;MACA,MAAMD,IAAI,GAAGrB,QAAQ,CAACA,QAAQ;;MAE9B;MACA,IAAIqB,IAAI,CAACa,QAAQ,CAAC,QAAQ,CAAC,EAAEZ,WAAW,CAACQ,IAAI,CAAC,qCAAqC,CAAC;MACpF,IAAIT,IAAI,CAACa,QAAQ,CAAC,OAAO,CAAC,EAAEZ,WAAW,CAACQ,IAAI,CAAC,mCAAmC,CAAC;MACjF,IAAIT,IAAI,CAACa,QAAQ,CAAC,MAAM,CAAC,EAAEZ,WAAW,CAACQ,IAAI,CAAC,8BAA8B,CAAC;MAC3E,IAAIT,IAAI,CAACa,QAAQ,CAAC,MAAM,CAAC,EAAEZ,WAAW,CAACQ,IAAI,CAAC,oCAAoC,CAAC;IAErF,CAAC,CAAC,OAAOd,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACzD;IACA,OAAOM,WAAW;EACtB;EAEA,MAAMa,mBAAmBA,CAACtC,gBAAgB,EAAEuC,MAAM,EAAE;IAChD,IAAI;MACA;MACA,MAAMpC,QAAQ,GAAG,MAAMC,KAAK,CAAC,IAAI,CAACP,cAAc,EAAE;QAC9CQ,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACjBX,KAAK,EAAE,IAAI,CAACA,KAAK;UACjBY,MAAM,EAAE,KAAK;UACbC,MAAM,EAAE,wDAAwD4B,MAAM;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;UACT3B,MAAM,EAAE,CAACZ,gBAAgB;QAC7B,CAAC;MACL,CAAC,CAAC;MAEF,IAAI,CAACG,QAAQ,CAACU,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,8BAA8BX,QAAQ,CAACY,UAAU,EAAE,CAAC;MACxE;MAEA,MAAMC,IAAI,GAAG,MAAMb,QAAQ,CAACc,IAAI,CAAC,CAAC;MAClC,OAAO,IAAI,CAACuB,iBAAiB,CAACxB,IAAI,CAAC;IACvC,CAAC,CAAC,OAAOG,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C,MAAMA,KAAK;IACf;EACJ;EAEAqB,iBAAiBA,CAACrC,QAAQ,EAAE;IACxB,IAAI;MACA;MACA,MAAMsC,SAAS,GAAGtC,QAAQ,CAACA,QAAQ,CAAC0B,KAAK,CAAC,WAAW,CAAC;MACtD,IAAIY,SAAS,EAAE;QACX,MAAMC,WAAW,GAAGlC,IAAI,CAACmC,KAAK,CAACF,SAAS,CAAC,CAAC,CAAC,CAAC;QAC5C,OAAO;UACHG,QAAQ,EAAE,IAAI,CAACC,aAAa,CAACH,WAAW,CAACE,QAAQ,CAAC;UAClDR,WAAW,EAAEM,WAAW,CAACN,WAAW;UACpCU,UAAU,EAAEC,QAAQ,CAACL,WAAW,CAACI,UAAU,CAAC,GAAG,GAAG;UAClDE,SAAS,EAAEN,WAAW,CAACM;QAC3B,CAAC;MACL;MACA,OAAO,IAAI;IACf,CAAC,CAAC,OAAO7B,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACtD,OAAO,IAAI;IACf;EACJ;EAEA0B,aAAaA,CAACI,YAAY,EAAE;IACxB;IACA,MAAMC,MAAM,GAAG;MACXC,CAAC,EAAE,GAAG;MAAG;MACTC,CAAC,EAAE;IACP,CAAC;;IAED;IACA,IAAIH,YAAY,CAACZ,QAAQ,CAAC,KAAK,CAAC,EAAE;MAC9Ba,MAAM,CAACE,CAAC,GAAGH,YAAY,CAACZ,QAAQ,CAAC,UAAU,CAAC,GAAG,GAAG,GAAG,IAAI;IAC7D;IACA,IAAIY,YAAY,CAACZ,QAAQ,CAAC,QAAQ,CAAC,EAAE;MACjCa,MAAM,CAACE,CAAC,GAAGH,YAAY,CAACZ,QAAQ,CAAC,aAAa,CAAC,GAAG,GAAG,GAAG,IAAI;IAChE;IACA,IAAIY,YAAY,CAACZ,QAAQ,CAAC,MAAM,CAAC,EAAE;MAC/Ba,MAAM,CAACC,CAAC,GAAGF,YAAY,CAACZ,QAAQ,CAAC,UAAU,CAAC,GAAG,GAAG,GAAG,IAAI;IAC7D;IACA,IAAIY,YAAY,CAACZ,QAAQ,CAAC,OAAO,CAAC,EAAE;MAChCa,MAAM,CAACC,CAAC,GAAGF,YAAY,CAACZ,QAAQ,CAAC,WAAW,CAAC,GAAG,GAAG,GAAG,IAAI;IAC9D;IACA,IAAIY,YAAY,CAACZ,QAAQ,CAAC,QAAQ,CAAC,EAAE;MACjCa,MAAM,CAACC,CAAC,GAAG,GAAG;MACdD,MAAM,CAACE,CAAC,GAAG,GAAG;IAClB;IAEA,OAAOF,MAAM;EACjB;;EAEA;EACA,MAAMG,eAAeA,CAAA,EAAG;IACpB,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;MAC5B,IAAIC,QAAQ,CAACC,UAAU,KAAK,UAAU,EAAE;QACpCF,OAAO,CAAC,CAAC;MACb,CAAC,MAAM;QACHG,MAAM,CAACC,gBAAgB,CAAC,MAAM,EAAEJ,OAAO,CAAC;MAC5C;IACJ,CAAC,CAAC;EACN;AACJ;;ACvMA;AACoD;;AAEpD;AACO,MAAMK,OAAO,CAAC;EACjBC,OAAOA,CAAA,EAAG;IACN,MAAM,IAAI/C,KAAK,CAAC,uCAAuC,CAAC;EAC5D;AACJ;;AAEA;AACO,MAAMgD,iBAAiB,SAASF,OAAO,CAAC;EAC3ChE,WAAWA,CAACmE,GAAG,EAAEC,UAAU,EAAEC,eAAe,GAAG,KAAK,EAAE;IAClD,KAAK,CAAC,CAAC;IACP,IAAI,CAACF,GAAG,GAAGA,GAAG;IACd,IAAI,CAACC,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACC,eAAe,GAAGA,eAAe;IACtC7C,OAAO,CAACO,GAAG,CAAC,sCAAsC,IAAI,CAACoC,GAAG,EAAE,CAAC;EACjE;EAEA,MAAMF,OAAOA,CAAA,EAAG;IACZ;IACA,IAAI;MACA,MAAM,IAAI,CAACG,UAAU,CAACE,QAAQ,CAAC,IAAI,CAACH,GAAG,CAAC;MACxC,OAAO,IAAI;IACf,CAAC,CAAC,OAAO5C,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;MAC1C,MAAMA,KAAK;IACf;EACJ;AACJ;;AAEA;AACO,MAAMgD,aAAa,SAASP,OAAO,CAAC;EACvChE,WAAWA,CAACwE,KAAK,EAAEJ,UAAU,EAAE;IAC3B,KAAK,CAAC,CAAC;IACP,IAAI,CAACI,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACJ,UAAU,GAAGA,UAAU;IAC5B5C,OAAO,CAACO,GAAG,CAAC,mCAAmCyC,KAAK,GAAG,CAAC;EAC5D;EAEA,MAAMP,OAAOA,CAAA,EAAG;IACZ,IAAI;MACA;MACA,MAAMQ,YAAY,GAAID,KAAK,IAAK;QAC5B,MAAME,WAAW,GAAGd,QAAQ,CAACe,aAAa,CAAC,sBAAsB,CAAC;QAClE,IAAID,WAAW,EAAE;UACbA,WAAW,CAACE,KAAK,GAAGJ,KAAK;UACzBE,WAAW,CAACG,aAAa,CAAC,IAAIC,KAAK,CAAC,OAAO,CAAC,CAAC;UAC7C,OAAO,IAAI;QACf;QACA,OAAO,KAAK;MAChB,CAAC;MAED,OAAO,MAAM,IAAI,CAACV,UAAU,CAACW,aAAa,CAACN,YAAY,EAAE,CAAC,IAAI,CAACD,KAAK,CAAC,CAAC;IAC1E,CAAC,CAAC,OAAOjD,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MACtC,MAAMA,KAAK;IACf;EACJ;AACJ;;AAEA;AACO,MAAMyD,WAAW,SAAShB,OAAO,CAAC;EACrChE,WAAWA,CAACoE,UAAU,EAAE;IACpB,KAAK,CAAC,CAAC;IACP,IAAI,CAACA,UAAU,GAAGA,UAAU;IAC5B5C,OAAO,CAACO,GAAG,CAAC,yBAAyB,CAAC;EAC1C;EAEA,MAAMkC,OAAOA,CAAA,EAAG;IACZ,IAAI;MACA,MAAM,IAAI,CAACG,UAAU,CAACW,aAAa,CAAC,MAAMjB,MAAM,CAACmB,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC;MAChE,OAAO,IAAI;IACf,CAAC,CAAC,OAAO3D,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C,MAAMA,KAAK;IACf;EACJ;AACJ;;AAEA;AACO,MAAM4D,cAAc,SAASnB,OAAO,CAAC;EACxChE,WAAWA,CAACoE,UAAU,EAAE;IACpB,KAAK,CAAC,CAAC;IACP,IAAI,CAACA,UAAU,GAAGA,UAAU;IAC5B5C,OAAO,CAACO,GAAG,CAAC,4BAA4B,CAAC;EAC7C;EAEA,MAAMkC,OAAOA,CAAA,EAAG;IACZ,IAAI;MACA,MAAM,IAAI,CAACG,UAAU,CAACW,aAAa,CAAC,MAAMjB,MAAM,CAACmB,OAAO,CAACG,OAAO,CAAC,CAAC,CAAC;MACnE,OAAO,IAAI;IACf,CAAC,CAAC,OAAO7D,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClD,MAAMA,KAAK;IACf;EACJ;AACJ;;AAEA;AACO,MAAM8D,cAAc,SAASrB,OAAO,CAAC;EACxChE,WAAWA,CAACoE,UAAU,EAAE;IACpB,KAAK,CAAC,CAAC;IACP,IAAI,CAACA,UAAU,GAAGA,UAAU;IAC5B5C,OAAO,CAACO,GAAG,CAAC,4BAA4B,CAAC;EAC7C;EAEA,MAAMkC,OAAOA,CAAA,EAAG;IACZ,IAAI;MACA,MAAM,IAAI,CAACG,UAAU,CAACW,aAAa,CAAC,MAAMjB,MAAM,CAACd,QAAQ,CAACsC,MAAM,CAAC,CAAC,CAAC;MACnE,OAAO,IAAI;IACf,CAAC,CAAC,OAAO/D,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACvC,MAAMA,KAAK;IACf;EACJ;AACJ;;AAEA;AACO,MAAMgE,aAAa,SAASvB,OAAO,CAAC;EACvChE,WAAWA,CAACwF,SAAS,EAAEpB,UAAU,EAAE;IAC/B,KAAK,CAAC,CAAC;IACP,IAAI,CAACoB,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACpB,UAAU,GAAGA,UAAU;IAC5B5C,OAAO,CAACO,GAAG,CAAC,8BAA8ByD,SAAS,EAAE,CAAC;EAC1D;EAEA,MAAMvB,OAAOA,CAAA,EAAG;IACZ,IAAI;MACA,MAAMwB,YAAY,GAAID,SAAS,IAAK;QAChC,QAAOA,SAAS;UACZ,KAAK,IAAI;YAAE1B,MAAM,CAAC4B,QAAQ,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC;YAAE;UACrC,KAAK,MAAM;YAAE5B,MAAM,CAAC4B,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;YAAE;UACtC,KAAK,KAAK;YAAE5B,MAAM,CAAC6B,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;YAAE;UACnC,KAAK,QAAQ;YAAE7B,MAAM,CAAC6B,QAAQ,CAAC,CAAC,EAAE/B,QAAQ,CAACjD,IAAI,CAACiF,YAAY,CAAC;YAAE;QACnE;QACA,OAAO,IAAI;MACf,CAAC;MAED,OAAO,MAAM,IAAI,CAACxB,UAAU,CAACW,aAAa,CAACU,YAAY,EAAE,CAAC,IAAI,CAACD,SAAS,CAAC,CAAC;IAC9E,CAAC,CAAC,OAAOjE,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MACtC,MAAMA,KAAK;IACf;EACJ;AACJ;;AAEA;AACO,MAAMsE,WAAW,SAAS7B,OAAO,CAAC;EACrChE,WAAWA,CAAC4B,IAAI,EAAEwC,UAAU,EAAE;IAC1B,KAAK,CAAC,CAAC;IACP,IAAI,CAACxC,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACwC,UAAU,GAAGA,UAAU;IAC5B5C,OAAO,CAACO,GAAG,CAAC,iCAAiCH,IAAI,GAAG,CAAC;EACzD;EAEA,MAAMqC,OAAOA,CAAA,EAAG;IACZ,IAAI;MACA,MAAM6B,UAAU,GAAIC,UAAU,IAAK;QAC/B,OAAOjC,MAAM,CAACkC,IAAI,CAACD,UAAU,CAAC;MAClC,CAAC;MACD,OAAO,MAAM,IAAI,CAAC3B,UAAU,CAACW,aAAa,CAACe,UAAU,EAAE,CAAC,IAAI,CAAClE,IAAI,CAAC,CAAC;IACvE,CAAC,CAAC,OAAOL,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;MACpC,MAAMA,KAAK;IACf;EACJ;AACJ;;AAEA;AACO,MAAM0E,mBAAmB,SAASjC,OAAO,CAAC;EAC7ChE,WAAWA,CAAC4B,IAAI,EAAEwC,UAAU,EAAE;IAC1B,KAAK,CAAC,CAAC;IACP,IAAI,CAACxC,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACwC,UAAU,GAAGA,UAAU;IAC5B5C,OAAO,CAACO,GAAG,CAAC,yCAAyCH,IAAI,GAAG,CAAC;EACjE;EAEA,MAAMqC,OAAOA,CAAA,EAAG;IACZ,IAAI;MACA,MAAMiC,kBAAkB,GAAIH,UAAU,IAAK;QACvC,MAAMrE,QAAQ,GAAGkC,QAAQ,CAACuC,gBAAgB,CAAC,GAAG,CAAC;QAC/C,KAAK,MAAMC,OAAO,IAAI1E,QAAQ,EAAE;UAAA,IAAA2E,oBAAA;UAC5B,KAAAA,oBAAA,GAAID,OAAO,CAACE,WAAW,cAAAD,oBAAA,eAAnBA,oBAAA,CAAqB5D,QAAQ,CAACsD,UAAU,CAAC,EAAE;YAC3CK,OAAO,CAACG,KAAK,CAAC,CAAC;YACf,OAAO,IAAI;UACf;QACJ;QACA,OAAO,KAAK;MAChB,CAAC;MACD,OAAO,MAAM,IAAI,CAACnC,UAAU,CAACW,aAAa,CAACmB,kBAAkB,EAAE,CAAC,IAAI,CAACtE,IAAI,CAAC,CAAC;IAC/E,CAAC,CAAC,OAAOL,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5C,MAAMA,KAAK;IACf;EACJ;AACJ;;AAEA;;ACvMoD;AACZ;;AAExC;AACO,MAAMiF,qBAAqB,SAASxC,OAAO,CAAC;EAC/ChE,WAAWA,CAACoE,UAAU,EAAE;IACpB,KAAK,CAAC,CAAC;IACP,IAAI,CAACA,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACqC,aAAa,GAAG,IAAI1G,aAAa,CAAC,CAAC;EAC5C;AACJ;;AAEA;AACO,MAAM2G,iBAAiB,SAASF,qBAAqB,CAAC;EACzDxG,WAAWA,CAACoE,UAAU,EAAE;IACpB,KAAK,CAACA,UAAU,CAAC;IACjB5C,OAAO,CAACO,GAAG,CAAC,+BAA+B,CAAC;EAChD;EAEA,MAAMkC,OAAOA,CAAA,EAAG;IACZ,IAAI;MACAzC,OAAO,CAACO,GAAG,CAAC,4CAA4C,CAAC;MACzD,MAAM4E,UAAU,GAAG,MAAM,IAAI,CAACvC,UAAU,CAACwC,iBAAiB,CAAC,CAAC;MAC5D,MAAMC,WAAW,GAAGF,UAAU,CAACrG,OAAO,CAAC,0BAA0B,EAAE,EAAE,CAAC;MAEtEkB,OAAO,CAACO,GAAG,CAAC,+BAA+B,CAAC;MAC5C,MAAMN,QAAQ,GAAG,MAAM,IAAI,CAACgF,aAAa,CAACtG,iBAAiB,CAAC0G,WAAW,CAAC;MACxErF,OAAO,CAACO,GAAG,CAAC,6BAA6B,EAAEN,QAAQ,CAAC;MAEpD,OAAO;QACHqF,OAAO,EAAE,IAAI;QACbC,OAAO,EAAE,2BAA2B;QACpCC,WAAW,EAAE,CAAC;UACV5F,IAAI,EAAEuF,UAAU;UAChBM,OAAO,EAAE;QACb,CAAC,CAAC;QACFxF,QAAQ,EAAE,IAAI,CAACyF,aAAa,CAACzF,QAAQ;MACzC,CAAC;IACL,CAAC,CAAC,OAAOF,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7C,MAAMA,KAAK;IACf;EACJ;EAEA2F,aAAaA,CAACzF,QAAQ,EAAE;IAAA,IAAA0F,kBAAA,EAAAC,qBAAA;IACpB,IAAIC,SAAS,GAAG,8BAA8B;IAE9C,IAAI,EAAAF,kBAAA,GAAA1F,QAAQ,CAACC,QAAQ,cAAAyF,kBAAA,uBAAjBA,kBAAA,CAAmBG,MAAM,IAAG,CAAC,EAAE;MAC/BD,SAAS,IAAI,kCAAkC;MAC/C5F,QAAQ,CAACC,QAAQ,CAAC6F,OAAO,CAACC,EAAE,IAAI;QAC5BH,SAAS,IAAI,KAAKG,EAAE,CAACjF,IAAI,KAAKiF,EAAE,CAAChF,WAAW,IAAI;MACpD,CAAC,CAAC;MACF6E,SAAS,IAAI,IAAI;IACrB;IAEA,IAAI,EAAAD,qBAAA,GAAA3F,QAAQ,CAACI,WAAW,cAAAuF,qBAAA,uBAApBA,qBAAA,CAAsBE,MAAM,IAAG,CAAC,EAAE;MAClCD,SAAS,IAAI,yBAAyB;MACtC5F,QAAQ,CAACI,WAAW,CAAC0F,OAAO,CAACE,UAAU,IAAI;QACvCJ,SAAS,IAAI,KAAKI,UAAU,IAAI;MACpC,CAAC,CAAC;MACFJ,SAAS,IAAI,IAAI;IACrB;IAEA,IAAI5F,QAAQ,CAACG,IAAI,EAAE;MACfyF,SAAS,IAAI,yBAAyB;MACtCA,SAAS,IAAI5F,QAAQ,CAACG,IAAI;IAC9B;IAEA,OAAOyF,SAAS;EACpB;AACJ;;AAEA;AACO,MAAMK,aAAa,SAASlB,qBAAqB,CAAC;EACrDxG,WAAWA,CAACoE,UAAU,EAAEuD,MAAM,EAAE;IAC5B,KAAK,CAACvD,UAAU,CAAC;IACjB,IAAI,CAACxC,IAAI,GAAG+F,MAAM,CAAC/F,IAAI;IACvB,IAAI,CAACgG,OAAO,GAAGD,MAAM,CAACC,OAAO;IAC7B,IAAI,CAACC,SAAS,GAAGF,MAAM,CAACE,SAAS;IACjCrG,OAAO,CAACO,GAAG,CAAC,4BAA4B,EAAE4F,MAAM,CAAC;EACrD;EAEA,MAAM1D,OAAOA,CAAA,EAAG;IACZ,IAAI;MACAzC,OAAO,CAACO,GAAG,CAAC,wBAAwB,CAAC;;MAErC;MACA,MAAM+F,YAAY,GAAG,MAAM,IAAI,CAAC1D,UAAU,CAACW,aAAa,CACnD3D,IAAI,IAAK;QACN,OAAO,IAAIsC,OAAO,CAAEC,OAAO,IAAK;UAC5BoE,MAAM,CAACC,OAAO,CAACC,WAAW,CAAC;YACvB1F,IAAI,EAAE,gBAAgB;YACtBnB;UACJ,CAAC,EAAEuC,OAAO,CAAC;QACf,CAAC,CAAC;MACN,CAAC,EACD,CAAC;QACG/B,IAAI,EAAE,IAAI,CAACA,IAAI;QACfgG,OAAO,EAAE,IAAI,CAACA,OAAO;QACrBC,SAAS,EAAE,IAAI,CAACA;MACpB,CAAC,CACL,CAAC;MAED,IAAIC,YAAY,CAAChB,OAAO,EAAE;QACtBtF,OAAO,CAACO,GAAG,CAAC,8BAA8B,EAAE+F,YAAY,CAAC1B,OAAO,CAAC;;QAEjE;QACA,MAAMO,UAAU,GAAG,MAAM,IAAI,CAACvC,UAAU,CAACwC,iBAAiB,CAAC,CAAC;;QAE5D;QACA,MAAM,IAAI,CAACxC,UAAU,CAACW,aAAa,CAAC,MAAM;UACtC,OAAO,IAAIrB,OAAO,CAAEC,OAAO,IAAK;YAC5BoE,MAAM,CAACC,OAAO,CAACC,WAAW,CAAC;cACvB1F,IAAI,EAAE;YACV,CAAC,EAAEoB,OAAO,CAAC;UACf,CAAC,CAAC;QACN,CAAC,CAAC;QAEF,OAAO;UACHmD,OAAO,EAAE,IAAI;UACbC,OAAO,EAAE,8BAA8B;UACvCX,OAAO,EAAE0B,YAAY,CAAC1B,OAAO;UAC7BY,WAAW,EAAE,CAAC;YACV5F,IAAI,EAAEuF,UAAU;YAChBM,OAAO,EAAE,oBAAoBa,YAAY,CAAC1B,OAAO,CAACxE,IAAI;UAC1D,CAAC;QACL,CAAC;MACL;;MAEA;MACAJ,OAAO,CAACO,GAAG,CAAC,kCAAkC,CAAC;MAC/C,MAAM4E,UAAU,GAAG,MAAM,IAAI,CAACvC,UAAU,CAACwC,iBAAiB,CAAC,CAAC;MAC5D,MAAMC,WAAW,GAAGF,UAAU,CAACrG,OAAO,CAAC,0BAA0B,EAAE,EAAE,CAAC;MAEtE,IAAIS,MAAM,GAAG,EAAE;MACf,IAAI,IAAI,CAAC6G,OAAO,IAAI,IAAI,CAACC,SAAS,EAAE;QAChC9G,MAAM,GAAG,YAAY,IAAI,CAAC8G,SAAS,mBAAmB,IAAI,CAACD,OAAO,WAAW;MACjF,CAAC,MAAM,IAAI,IAAI,CAACA,OAAO,EAAE;QACrB7G,MAAM,GAAG,6BAA6B,IAAI,CAAC6G,OAAO,GAAG;MACzD,CAAC,MAAM;QACH7G,MAAM,GAAG,+BAA+B,IAAI,CAACa,IAAI,GAAG;MACxD;MAEA,MAAMkB,WAAW,GAAG,MAAM,IAAI,CAAC2D,aAAa,CAAC/D,mBAAmB,CAACmE,WAAW,EAAE9F,MAAM,CAAC;MAErF,IAAI+B,WAAW,IAAIA,WAAW,CAACI,UAAU,GAAG,GAAG,EAAE;QAC7C1B,OAAO,CAACO,GAAG,CAAC,iCAAiC,EAAEe,WAAW,CAAC;;QAE3D;QACA,MAAM,IAAI,CAACsB,UAAU,CAACW,aAAa,CAC9BzB,MAAM,IAAK;UACR,MAAM8C,OAAO,GAAGxC,QAAQ,CAACsE,gBAAgB,CACrC5E,MAAM,CAACC,CAAC,GAAGO,MAAM,CAACqE,UAAU,EAC5B7E,MAAM,CAACE,CAAC,GAAGM,MAAM,CAACsE,WACtB,CAAC;UACD,IAAIhC,OAAO,EAAE;YACT,OAAO,IAAI1C,OAAO,CAAEC,OAAO,IAAK;cAC5BoE,MAAM,CAACC,OAAO,CAACC,WAAW,CAAC;gBACvB1F,IAAI,EAAE,gBAAgB;gBACtBnB,IAAI,EAAE;kBAAEgF;gBAAQ;cACpB,CAAC,EAAEzC,OAAO,CAAC;YACf,CAAC,CAAC;UACN;QACJ,CAAC,EACD,CAACb,WAAW,CAACE,QAAQ,CACzB,CAAC;;QAED;QACA,MAAMqF,qBAAqB,GAAG,MAAM,IAAI,CAACjE,UAAU,CAACwC,iBAAiB,CAAC,CAAC;;QAEvE;QACA,MAAM,IAAI,CAACxC,UAAU,CAACW,aAAa,CAAC,MAAM;UACtC,OAAO,IAAIrB,OAAO,CAAEC,OAAO,IAAK;YAC5BoE,MAAM,CAACC,OAAO,CAACC,WAAW,CAAC;cACvB1F,IAAI,EAAE;YACV,CAAC,EAAEoB,OAAO,CAAC;UACf,CAAC,CAAC;QACN,CAAC,CAAC;QAEF,OAAO;UACHmD,OAAO,EAAE,IAAI;UACbC,OAAO,EAAE,yCAAyC;UAClDX,OAAO,EAAEtD,WAAW;UACpBkE,WAAW,EAAE,CAAC;YACV5F,IAAI,EAAEiH,qBAAqB;YAC3BpB,OAAO,EAAE,oBAAoBnE,WAAW,CAACN,WAAW;UACxD,CAAC;QACL,CAAC;MACL;MAEA,MAAM,IAAItB,KAAK,CAAC,mBAAmB,CAAC;IACxC,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClD,MAAMA,KAAK;IACf;EACJ;AACJ;;ACpMwE;AAEjE,MAAM+G,gBAAgB,CAAC;EAC1BtI,WAAWA,CAACoE,UAAU,EAAE;IACpB,IAAI,CAACA,UAAU,GAAGA,UAAU;IAC5B5C,OAAO,CAACO,GAAG,CAAC,kCAAkC,CAAC;EACnD;EAEA,MAAMwG,cAAcA,CAACC,KAAK,EAAE;IACxB,MAAMC,OAAO,GAAGD,KAAK,CAACE,IAAI,CAAC,CAAC;IAC5BlH,OAAO,CAACO,GAAG,CAAC,qBAAqB,EAAE0G,OAAO,CAAC;IAE3C,IAAI;MACA;MACA,MAAME,UAAU,GAAG,IAAI,CAACC,YAAY,CAACH,OAAO,CAAC;MAC7C,IAAIE,UAAU,EAAE;QACZnH,OAAO,CAACO,GAAG,CAAC,oBAAoB,EAAE4G,UAAU,CAAC;QAC7C,OAAOA,UAAU;MACrB;;MAEA;MACA,MAAME,SAAS,GAAGJ,OAAO,CAACxG,KAAK,CAAC,gBAAgB,CAAC;MACjD,IAAI4G,SAAS,EAAE;QACX,MAAMrE,KAAK,GAAGqE,SAAS,CAAC,CAAC,CAAC;;QAE1B;QACA,MAAMC,kBAAkB,GAAGtE,KAAK,CAACvC,KAAK,CAAC,2CAA2C,CAAC;QACnF,IAAI6G,kBAAkB,EAAE;UACpB,OAAO,IAAIpB,aAAa,CAAC,IAAI,CAACtD,UAAU,EAAE;YACtCwD,OAAO,EAAEkB,kBAAkB,CAAC,CAAC,CAAC;YAC9BjB,SAAS,EAAE1E,QAAQ,CAAC2F,kBAAkB,CAAC,CAAC,CAAC;UAC7C,CAAC,CAAC;QACN;;QAEA;QACA,MAAMC,gBAAgB,GAAGvE,KAAK,CAACvC,KAAK,CAAC,4BAA4B,CAAC;QAClE,IAAI8G,gBAAgB,EAAE;UAClB,OAAO,IAAIrB,aAAa,CAAC,IAAI,CAACtD,UAAU,EAAE;YACtCxC,IAAI,EAAEmH,gBAAgB,CAAC,CAAC,CAAC;YACzBxG,IAAI,EAAEwG,gBAAgB,CAAC,CAAC;UAC5B,CAAC,CAAC;QACN;;QAEA;QACA,OAAO,IAAIrB,aAAa,CAAC,IAAI,CAACtD,UAAU,EAAE;UACtCxC,IAAI,EAAE4C;QACV,CAAC,CAAC;MACN;MAEA,MAAM,IAAItD,KAAK,CAAC,iBAAiB,CAAC;IACtC,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClD,MAAM,IAAIL,KAAK,CAAC,8BAA8BK,KAAK,CAACwF,OAAO,EAAE,CAAC;IAClE;EACJ;EAEA6B,YAAYA,CAACJ,KAAK,EAAE;IAChBhH,OAAO,CAACO,GAAG,CAAC,kBAAkB,EAAEyG,KAAK,CAAC;IAEtC,MAAMQ,QAAQ,GAAG;IACb;IACA;MACIzG,IAAI,EAAE,mBAAmB;MACzB0G,OAAO,EAAE,0CAA0C;MACnDC,OAAO,EAAGjH,KAAK,KAAM;QACjBM,IAAI,EAAE,mBAAmB;QACzBgB,CAAC,EAAEJ,QAAQ,CAAClB,KAAK,CAAC,CAAC,CAAC,CAAC;QACrBuB,CAAC,EAAEL,QAAQ,CAAClB,KAAK,CAAC,CAAC,CAAC;MACxB,CAAC;IACL,CAAC;IACD;IACA;MACIM,IAAI,EAAE,YAAY;MAClB0G,OAAO,EAAE,mDAAmD;MAC5DC,OAAO,EAAGjH,KAAK,KAAM;QACjBM,IAAI,EAAE,YAAY;QAClB4B,GAAG,EAAElC,KAAK,CAAC,CAAC,CAAC,CAACkH,WAAW,CAAC,CAAC;QAC3B9E,eAAe,EAAE;MACrB,CAAC;IACL,CAAC;IACD;IACA;MACI9B,IAAI,EAAE,MAAM;MACZ0G,OAAO,EAAE,SAAS;MAClBC,OAAO,EAAEA,CAAA,MAAO;QAAE3G,IAAI,EAAE;MAAO,CAAC;IACpC,CAAC,EACD;MACIA,IAAI,EAAE,SAAS;MACf0G,OAAO,EAAE,YAAY;MACrBC,OAAO,EAAEA,CAAA,MAAO;QAAE3G,IAAI,EAAE;MAAU,CAAC;IACvC,CAAC,EACD;MACIA,IAAI,EAAE,SAAS;MACf0G,OAAO,EAAE,YAAY;MACrBC,OAAO,EAAEA,CAAA,MAAO;QAAE3G,IAAI,EAAE;MAAU,CAAC;IACvC,CAAC,CACJ;IAED,KAAK,MAAMkG,OAAO,IAAIO,QAAQ,EAAE;MAC5B,MAAM/G,KAAK,GAAGuG,KAAK,CAACvG,KAAK,CAACwG,OAAO,CAACQ,OAAO,CAAC;MAC1C,IAAIhH,KAAK,EAAE;QACPT,OAAO,CAACO,GAAG,CAAC,8BAA8B0G,OAAO,CAAClG,IAAI,EAAE,CAAC;QACzD,OAAOkG,OAAO,CAACS,OAAO,CAACjH,KAAK,CAAC;MACjC;IACJ;IAEAT,OAAO,CAACO,GAAG,CAAC,iCAAiC,EAAEyG,KAAK,CAAC;IACrD,OAAO,IAAI;EACf;AACJ;;AC7GO,MAAMY,iBAAiB,CAAC;EAC3BpJ,WAAWA,CAAA,EAAG;IACV,IAAI,CAACqJ,KAAK,GAAG,IAAI;IACjB,IAAI,CAACC,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACC,IAAI,GAAG,IAAI;IAChB,IAAI,CAACC,oBAAoB,CAAC,CAAC;IAC3BhI,OAAO,CAACO,GAAG,CAAC,mCAAmC,CAAC;EACpD;EAEAyH,oBAAoBA,CAAA,EAAG;IACnB,IAAI,CAACD,IAAI,GAAGxB,MAAM,CAACC,OAAO,CAACyB,OAAO,CAAC;MAAEC,IAAI,EAAE;IAAY,CAAC,CAAC;IAEzD,IAAI,CAACH,IAAI,CAACI,SAAS,CAACC,WAAW,CAAC,MAAO7C,OAAO,IAAK;MAC/C,IAAIA,OAAO,CAACxE,IAAI,KAAK,YAAY,EAAE;QAC/B,IAAI,CAAC8G,KAAK,GAAGtC,OAAO,CAAC8C,YAAY;QACjC,IAAI;UACA,MAAMC,GAAG,GAAG,MAAM/B,MAAM,CAACgC,IAAI,CAACC,GAAG,CAAC,IAAI,CAACX,KAAK,CAAC;UAC7C,IAAI,CAACC,QAAQ,GAAGQ,GAAG,CAACR,QAAQ;UAC5B9H,OAAO,CAACO,GAAG,CAAC,uCAAuC,IAAI,CAACsH,KAAK,EAAE,CAAC;;UAEhE;UACA,IAAI,IAAI,CAACY,aAAa,CAACH,GAAG,CAAC3F,GAAG,CAAC,EAAE;YAC7B,MAAM,IAAI,CAAC+F,YAAY,CAAC,CAAC;UAC7B,CAAC,MAAM;YACH,MAAM,IAAI,CAACC,eAAe,CAAC,CAAC;UAChC;QACJ,CAAC,CAAC,OAAO5I,KAAK,EAAE;UACZC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;UAChD,MAAM,IAAI,CAAC2I,YAAY,CAAC,CAAC;QAC7B;MACJ;IACJ,CAAC,CAAC;EACN;EAEAD,aAAaA,CAAC9F,GAAG,EAAE;IACf,IAAI,CAACA,GAAG,EAAE,OAAO,IAAI;IACrB,OAAOA,GAAG,CAACiG,UAAU,CAAC,WAAW,CAAC,IAC3BjG,GAAG,CAACiG,UAAU,CAAC,qBAAqB,CAAC,IACrCjG,GAAG,CAACiG,UAAU,CAAC,UAAU,CAAC,IAC1BjG,GAAG,CAACiG,UAAU,CAAC,aAAa,CAAC;EACxC;EAEA,MAAMF,YAAYA,CAAA,EAAG;IACjB,IAAI;MACA1I,OAAO,CAACO,GAAG,CAAC,6BAA6B,CAAC;MAC1C,MAAM+H,GAAG,GAAG,MAAM/B,MAAM,CAACsC,OAAO,CAACC,MAAM,CAAC;QACpCnG,GAAG,EAAE,aAAa;QAClB5B,IAAI,EAAE,QAAQ;QAAG;QACjBgI,KAAK,EAAE,IAAI;QACXC,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE;MACb,CAAC,CAAC;MACF,IAAI,CAACpB,KAAK,GAAGS,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CAACW,EAAE;MAC3B,IAAI,CAACpB,QAAQ,GAAGQ,GAAG,CAACY,EAAE;MACtBlJ,OAAO,CAACO,GAAG,CAAC,+BAA+B,IAAI,CAACuH,QAAQ,gBAAgB,IAAI,CAACD,KAAK,EAAE,CAAC;MAErF,MAAMtB,MAAM,CAAC4C,OAAO,CAACC,KAAK,CAACC,GAAG,CAAC;QAAEhB,YAAY,EAAE,IAAI,CAACR;MAAM,CAAC,CAAC;MAC5D,OAAOS,GAAG;IACd,CAAC,CAAC,OAAOvI,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACpD,MAAMA,KAAK;IACf;EACJ;EAEA,MAAM+C,QAAQA,CAACH,GAAG,EAAE;IAChB,IAAI;MACA,MAAM,IAAI,CAACgG,eAAe,CAAC,CAAC;;MAE5B;MACA,IAAIW,YAAY,GAAG3G,GAAG,CAACgF,WAAW,CAAC,CAAC,CAACT,IAAI,CAAC,CAAC;MAC3C,IAAI,CAACoC,YAAY,CAAC7I,KAAK,CAAC,cAAc,CAAC,EAAE;QACrC6I,YAAY,GAAG,WAAWA,YAAY,EAAE;MAC5C;MAEAtJ,OAAO,CAACO,GAAG,CAAC,kBAAkB+I,YAAY,EAAE,CAAC;;MAE7C;MACA,MAAMhB,GAAG,GAAG,MAAM/B,MAAM,CAACgC,IAAI,CAACgB,MAAM,CAAC,IAAI,CAAC1B,KAAK,EAAE;QAAElF,GAAG,EAAE2G;MAAa,CAAC,CAAC;;MAEvE;MACA,MAAM,IAAIpH,OAAO,CAAEC,OAAO,IAAK;QAC3B,MAAMqH,QAAQ,GAAGA,CAAC3B,KAAK,EAAE4B,UAAU,KAAK;UACpC,IAAI5B,KAAK,KAAK,IAAI,CAACA,KAAK,IAAI4B,UAAU,CAACC,MAAM,KAAK,UAAU,EAAE;YAC1DnD,MAAM,CAACgC,IAAI,CAACoB,SAAS,CAACC,cAAc,CAACJ,QAAQ,CAAC;YAC9CrH,OAAO,CAAC,CAAC;UACb;QACJ,CAAC;QACDoE,MAAM,CAACgC,IAAI,CAACoB,SAAS,CAACvB,WAAW,CAACoB,QAAQ,CAAC;;QAE3C;QACAK,UAAU,CAAC,MAAM;UACbtD,MAAM,CAACgC,IAAI,CAACoB,SAAS,CAACC,cAAc,CAACJ,QAAQ,CAAC;UAC9CrH,OAAO,CAAC,CAAC;QACb,CAAC,EAAE,KAAK,CAAC;MACb,CAAC,CAAC;;MAEF;MACA,MAAM,IAAID,OAAO,CAACC,OAAO,IAAI0H,UAAU,CAAC1H,OAAO,EAAE,IAAI,CAAC,CAAC;;MAEvD;MACA,MAAMoE,MAAM,CAACC,OAAO,CAACC,WAAW,CAAC;QAC7B1F,IAAI,EAAE,iBAAiB;QACvBkG,OAAO,EAAE;UAAElG,IAAI,EAAE;QAAgB;MACrC,CAAC,CAAC;MAEF,OAAOuH,GAAG;IACd,CAAC,CAAC,OAAOvI,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;MAC1C,MAAMA,KAAK;IACf;EACJ;EAEA,MAAM4I,eAAeA,CAAA,EAAG;IACpB,IAAI,CAAC,IAAI,CAACd,KAAK,IAAI,CAAC,IAAI,CAACC,QAAQ,EAAE;MAC/B9H,OAAO,CAACO,GAAG,CAAC,oCAAoC,CAAC;MACjD,MAAM,IAAI,CAACmI,YAAY,CAAC,CAAC;MACzB;IACJ;IAEA,IAAI;MACA;MACA,MAAMJ,GAAG,GAAG,MAAM/B,MAAM,CAACgC,IAAI,CAACC,GAAG,CAAC,IAAI,CAACX,KAAK,CAAC;MAC7C,IAAI,IAAI,CAACY,aAAa,CAACH,GAAG,CAAC3F,GAAG,CAAC,EAAE;QAC7B3C,OAAO,CAACO,GAAG,CAAC,8CAA8C,CAAC;QAC3D,MAAM,IAAI,CAACmI,YAAY,CAAC,CAAC;QACzB;MACJ;MAEA,MAAMnC,MAAM,CAACsC,OAAO,CAACU,MAAM,CAAC,IAAI,CAACzB,QAAQ,EAAE;QAAEmB,OAAO,EAAE;MAAK,CAAC,CAAC;MAC7D,MAAM1C,MAAM,CAACgC,IAAI,CAACgB,MAAM,CAAC,IAAI,CAAC1B,KAAK,EAAE;QAAEiC,MAAM,EAAE;MAAK,CAAC,CAAC;MACtD,MAAM,IAAI5H,OAAO,CAACC,OAAO,IAAI0H,UAAU,CAAC1H,OAAO,EAAE,GAAG,CAAC,CAAC;IAC1D,CAAC,CAAC,OAAOpC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C,MAAM,IAAI,CAAC2I,YAAY,CAAC,CAAC;IAC7B;EACJ;EAEA,MAAMtD,iBAAiBA,CAAA,EAAG;IACtB,IAAI;MACA,MAAM,IAAI,CAACuD,eAAe,CAAC,CAAC;;MAE5B;MACA,MAAML,GAAG,GAAG,MAAM/B,MAAM,CAACgC,IAAI,CAACC,GAAG,CAAC,IAAI,CAACX,KAAK,CAAC;MAC7C,IAAI,IAAI,CAACY,aAAa,CAACH,GAAG,CAAC3F,GAAG,CAAC,EAAE;QAC7B3C,OAAO,CAACO,GAAG,CAAC,4CAA4C,CAAC;QACzD,OAAO,IAAI;MACf;MAEA,MAAMwJ,MAAM,GAAG,MAAMxD,MAAM,CAACgC,IAAI,CAACyB,iBAAiB,CAAC,IAAI,CAAClC,QAAQ,EAAE;QAC9DmC,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;MACb,CAAC,CAAC;MACF,OAAOH,MAAM;IACjB,CAAC,CAAC,OAAOhK,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACpD,OAAO,IAAI;IACf;EACJ;EAEA,MAAMwD,aAAaA,CAAC4G,IAAI,EAAEC,IAAI,GAAG,EAAE,EAAE;IACjC,MAAM,IAAI,CAACzB,eAAe,CAAC,CAAC;IAC5B,IAAI;MAAA,IAAA0B,SAAA;MACA,MAAMC,OAAO,GAAG,MAAM/D,MAAM,CAACgE,SAAS,CAAChH,aAAa,CAAC;QACjDiH,MAAM,EAAE;UAAE3C,KAAK,EAAE,IAAI,CAACA;QAAM,CAAC;QAC7B4C,QAAQ,EAAEN,IAAI;QACdC,IAAI,EAAEA;MACV,CAAC,CAAC;MACF,QAAAC,SAAA,GAAOC,OAAO,CAAC,CAAC,CAAC,cAAAD,SAAA,uBAAVA,SAAA,CAAYN,MAAM;IAC7B,CAAC,CAAC,OAAOhK,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClD,MAAMA,KAAK;IACf;EACJ;AACJ;;AC7KoD;AACZ;;AAExC;AACO,MAAM2K,iBAAiB,SAASlI,OAAO,CAAC;EAC3ChE,WAAWA,CAACgM,MAAM,EAAE5H,UAAU,EAAE;IAC5B,KAAK,CAAC,CAAC;IACP,IAAI,CAAC4H,MAAM,GAAGA,MAAM;IACpB,IAAI,CAAC5H,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACqC,aAAa,GAAG,IAAI1G,aAAa,CAAC,CAAC;IACxCyB,OAAO,CAACO,GAAG,CAAC,uCAAuCiK,MAAM,GAAG,CAAC;EACjE;EAEA,MAAM/H,OAAOA,CAAA,EAAG;IACZ,IAAI;MACAzC,OAAO,CAACO,GAAG,CAAC,4BAA4B,IAAI,CAACiK,MAAM,GAAG,CAAC;;MAEvD;MACA,MAAMrF,UAAU,GAAG,MAAM,IAAI,CAACvC,UAAU,CAACwC,iBAAiB,CAAC,CAAC;MAC5D,MAAMuF,YAAY,GAAG,MAAM,IAAI,CAAC1F,aAAa,CAAC/D,mBAAmB,CAC7DiE,UAAU,CAACrG,OAAO,CAAC,6BAA6B,EAAE,EAAE,CAAC,EACrD,IAAI,CAAC0L,MACT,CAAC;MAED,IAAI,CAACG,YAAY,EAAE;QACf,MAAM,IAAIjL,KAAK,CAAC,qCAAqC,IAAI,CAAC8K,MAAM,GAAG,CAAC;MACxE;MAEAxK,OAAO,CAACO,GAAG,CAAC,4BAA4B,EAAE;QACtCS,WAAW,EAAE2J,YAAY,CAAC3J,WAAW;QACrCU,UAAU,EAAEiJ,YAAY,CAACjJ,UAAU;QACnCF,QAAQ,EAAEmJ,YAAY,CAACnJ;MAC3B,CAAC,CAAC;;MAEF;MACA,IAAImJ,YAAY,CAACjJ,UAAU,GAAG,GAAG,EAAE;QAC/B,MAAMqI,MAAM,GAAG,MAAM,IAAI,CAACa,uBAAuB,CAACD,YAAY,CAAC;QAC/D,IAAIZ,MAAM,EAAE;UACR/J,OAAO,CAACO,GAAG,CAAC,gCAAgC,CAAC;UAC7C,OAAO,IAAI;QACf;MACJ;;MAEA;MACAP,OAAO,CAACO,GAAG,CAAC,wCAAwC,CAAC;MACrD,OAAO,MAAM,IAAI,CAACsK,aAAa,CAAC,CAAC;IAErC,CAAC,CAAC,OAAO9K,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7C,MAAMA,KAAK;IACf;EACJ;EAEA,MAAM6K,uBAAuBA,CAACD,YAAY,EAAE;IACxC,MAAMG,WAAW,GAAIhJ,MAAM,IAAK;MAC5B;MACA,MAAMC,CAAC,GAAGgJ,IAAI,CAACC,KAAK,CAAClJ,MAAM,CAACC,CAAC,GAAGO,MAAM,CAACqE,UAAU,CAAC;MAClD,MAAM3E,CAAC,GAAG+I,IAAI,CAACC,KAAK,CAAClJ,MAAM,CAACE,CAAC,GAAGM,MAAM,CAACsE,WAAW,CAAC;;MAEnD;MACA,MAAMhC,OAAO,GAAGxC,QAAQ,CAACsE,gBAAgB,CAAC3E,CAAC,EAAEC,CAAC,CAAC;MAC/C,IAAI4C,OAAO,EAAE;QACT,IAAI;UACA;UACAA,OAAO,CAACG,KAAK,CAAC,CAAC;UACf,OAAO,IAAI;QACf,CAAC,CAAC,OAAOkG,CAAC,EAAE;UACR,IAAI;YACA;YACA,MAAMC,UAAU,GAAG,IAAIC,UAAU,CAAC,OAAO,EAAE;cACvCC,IAAI,EAAE9I,MAAM;cACZ+I,OAAO,EAAE,IAAI;cACbC,UAAU,EAAE,IAAI;cAChBC,OAAO,EAAExJ,CAAC;cACVyJ,OAAO,EAAExJ;YACb,CAAC,CAAC;YACF4C,OAAO,CAACvB,aAAa,CAAC6H,UAAU,CAAC;YACjC,OAAO,IAAI;UACf,CAAC,CAAC,OAAOnL,KAAK,EAAE;YACZC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;YAChD,OAAO,KAAK;UAChB;QACJ;MACJ;MACA,OAAO,KAAK;IAChB,CAAC;IAED,MAAMgK,MAAM,GAAG,MAAM,IAAI,CAACnH,UAAU,CAACW,aAAa,CAC9CuH,WAAW,EACX,CAACH,YAAY,CAACnJ,QAAQ,CAC1B,CAAC;IAED,IAAIuI,MAAM,IAAIA,MAAM,CAAC,CAAC,CAAC,EAAE;MACrB,MAAM,IAAI7H,OAAO,CAACC,OAAO,IAAI0H,UAAU,CAAC1H,OAAO,EAAE,GAAG,CAAC,CAAC;MACtD,MAAM,IAAI,CAACS,UAAU,CAACwC,iBAAiB,CAAC,CAAC;MACzC,OAAO,IAAI;IACf;IAEA,OAAO,KAAK;EAChB;EAEA,MAAMyF,aAAaA,CAAA,EAAG;IAClB,MAAMY,sBAAsB,GAAIjB,MAAM,IAAK;MACvC;MACA,MAAMkB,UAAU,GAAG;MACf;MACA,MAAMC,KAAK,CAACC,IAAI,CAACxJ,QAAQ,CAACuC,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAACH,IAAI,CACjDwB,EAAE;QAAA,IAAA6F,eAAA;QAAA,QAAAA,eAAA,GAAI7F,EAAE,CAAClB,WAAW,cAAA+G,eAAA,uBAAdA,eAAA,CAAgBlE,WAAW,CAAC,CAAC,CAAC1G,QAAQ,CAACuJ,MAAM,CAAC7C,WAAW,CAAC,CAAC,CAAC;MAAA,CACtE,CAAC;MACD;MACA,MAAMvF,QAAQ,CAACe,aAAa,CAAC,iBAAiBqH,MAAM,MAAM,CAAC,EAC3D,MAAMpI,QAAQ,CAACe,aAAa,CAAC,YAAYqH,MAAM,MAAM,CAAC,EACtD,MAAMpI,QAAQ,CAACe,aAAa,CAAC,kBAAkBqH,MAAM,MAAM,CAAC;MAC5D;MACA,MAAMmB,KAAK,CAACC,IAAI,CAACxJ,QAAQ,CAACuC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAACH,IAAI,CACtDsH,GAAG;QAAA,IAAAC,gBAAA;QAAA,QAAAA,gBAAA,GAAID,GAAG,CAAChH,WAAW,cAAAiH,gBAAA,uBAAfA,gBAAA,CAAiBpE,WAAW,CAAC,CAAC,CAAC1G,QAAQ,CAACuJ,MAAM,CAAC7C,WAAW,CAAC,CAAC,CAAC;MAAA,CACxE,CAAC,CACJ;;MAED;MACA,KAAK,MAAMqE,QAAQ,IAAIN,UAAU,EAAE;QAC/B,IAAI;UACA,MAAM9G,OAAO,GAAGoH,QAAQ,CAAC,CAAC;UAC1B,IAAIpH,OAAO,EAAE;YACTA,OAAO,CAACG,KAAK,CAAC,CAAC;YACf,OAAO,IAAI;UACf;QACJ,CAAC,CAAC,OAAOkG,CAAC,EAAE;UACR;QACJ;MACJ;MAEA,OAAO,KAAK;IAChB,CAAC;IAED,MAAMlB,MAAM,GAAG,MAAM,IAAI,CAACnH,UAAU,CAACW,aAAa,CAC9CkI,sBAAsB,EACtB,CAAC,IAAI,CAACjB,MAAM,CAChB,CAAC;IAED,OAAOT,MAAM,IAAIA,MAAM,CAAC,CAAC,CAAC;EAC9B;AACJ;;AC9IwD;AAEwC;AACvC;AAElD,MAAMkC,cAAc,CAAC;EACxB,OAAOC,aAAaA,CAACnL,IAAI,EAAEoF,MAAM,EAAEvD,UAAU,EAAE;IAC3C5C,OAAO,CAACO,GAAG,CAAC,gCAAgCQ,IAAI,eAAe,EAAEoF,MAAM,CAAC;IAExE,QAAQpF,IAAI;MACR,KAAK,OAAO;MACZ,KAAK,YAAY;QACb,OAAO,IAAI2J,iBAAiB,CAACvE,MAAM,CAACqE,MAAM,EAAE5H,UAAU,CAAC;MAE3D,KAAK,aAAa;QACd,OAAO,IAAIsC,iBAAiB,CAACtC,UAAU,CAAC;MAE5C,KAAK,YAAY;QACb,OAAO,IAAIF,iBAAiB,CAACyD,MAAM,CAACxD,GAAG,EAAEC,UAAU,EAAEuD,MAAM,CAACtD,eAAe,CAAC;MAEhF,KAAK,QAAQ;QACT,OAAO,IAAIE,aAAa,CAACoD,MAAM,CAACnD,KAAK,EAAEJ,UAAU,CAAC;MAEtD,KAAK,MAAM;QACP,OAAO,IAAIY,WAAW,CAACZ,UAAU,CAAC;MAEtC,KAAK,SAAS;QACV,OAAO,IAAIe,cAAc,CAACf,UAAU,CAAC;MAEzC,KAAK,SAAS;QACV,OAAO,IAAIiB,cAAc,CAACjB,UAAU,CAAC;MAEzC,KAAK,QAAQ;QACT,OAAO,IAAImB,aAAa,CAACoC,MAAM,CAACnC,SAAS,EAAEpB,UAAU,CAAC;MAE1D,KAAK,MAAM;QACP,OAAO,IAAIyB,WAAW,CAAC8B,MAAM,CAAC/F,IAAI,EAAEwC,UAAU,CAAC;MAEnD,KAAK,cAAc;QACf,OAAO,IAAI6B,mBAAmB,CAAC0B,MAAM,CAAC/F,IAAI,EAAEwC,UAAU,CAAC;MAE3D;QACI,MAAM,IAAIlD,KAAK,CAAC,yBAAyBqB,IAAI,EAAE,CAAC;IACxD;EACJ;AACJ;;AC7CA;AAC0D;AACD;AACH;;AAEtD;AACA,MAAMoL,WAAW,CAAC;EACd3N,WAAWA,CAAA,EAAG;IACV;IACA,IAAI,CAAC4N,gBAAgB,GAAG,IAAItF,gBAAgB,CAAC,CAAC;IAC9C,IAAI,CAAClE,UAAU,GAAG,IAAIgF,iBAAiB,CAAC,CAAC;IACzC,IAAI,CAACyE,WAAW,GAAG,EAAE;;IAErB;IACA,IAAI,CAACrF,KAAK,GAAG5E,QAAQ,CAACe,aAAa,CAAC,gBAAgB,CAAC;IACrD,IAAI,CAACmJ,UAAU,GAAGlK,QAAQ,CAACe,aAAa,CAAC,cAAc,CAAC;IACxD,IAAI,CAACoJ,aAAa,GAAGnK,QAAQ,CAACe,aAAa,CAAC,aAAa,CAAC;IAE1D,IAAI,CAAC,IAAI,CAAC6D,KAAK,IAAI,CAAC,IAAI,CAACsF,UAAU,IAAI,CAAC,IAAI,CAACC,aAAa,EAAE;MACxDvM,OAAO,CAACD,KAAK,CAAC,mCAAmC,CAAC;MAClD;IACJ;IAEA,IAAI,CAACyM,mBAAmB,CAAC,CAAC;IAC1B,IAAI,CAACC,eAAe,CAAC,CAAC;IACtBzM,OAAO,CAACO,GAAG,CAAC,4BAA4B,CAAC;EAC7C;EAEAiM,mBAAmBA,CAAA,EAAG;IAClB;IACA,IAAI,CAACF,UAAU,CAAC/J,gBAAgB,CAAC,OAAO,EAAG0I,CAAC,IAAK;MAC7CA,CAAC,CAACyB,cAAc,CAAC,CAAC;MAClB,IAAI,CAACC,aAAa,CAAC,CAAC;IACxB,CAAC,CAAC;;IAEF;IACA,IAAI,CAAC3F,KAAK,CAACzE,gBAAgB,CAAC,SAAS,EAAGqK,KAAK,IAAK;MAC9C,IAAIA,KAAK,CAACC,GAAG,KAAK,OAAO,IAAI,CAACD,KAAK,CAACE,QAAQ,EAAE;QAC1CF,KAAK,CAACF,cAAc,CAAC,CAAC;QACtB,IAAI,CAACC,aAAa,CAAC,CAAC;MACxB;IACJ,CAAC,CAAC;;IAEF;IACA,IAAI,CAAC3F,KAAK,CAACzE,gBAAgB,CAAC,OAAO,EAAE,MAAM;MACvC,IAAI,CAACwK,eAAe,CAAC,CAAC;IAC1B,CAAC,CAAC;EACN;EAEAN,eAAeA,CAAA,EAAG;IACd;IACA,IAAI,CAACM,eAAe,CAAC,CAAC;;IAEtB;IACA,IAAIC,cAAc,CAAC,MAAM;MACrB,IAAI,CAACD,eAAe,CAAC,CAAC;IAC1B,CAAC,CAAC,CAACE,OAAO,CAAC,IAAI,CAACjG,KAAK,CAAC;EAC1B;EAEA+F,eAAeA,CAAA,EAAG;IACd,MAAM/F,KAAK,GAAG,IAAI,CAACA,KAAK;IACxBA,KAAK,CAACkG,KAAK,CAAClE,MAAM,GAAG,MAAM;IAC3BhC,KAAK,CAACkG,KAAK,CAAClE,MAAM,GAAIhC,KAAK,CAAC5C,YAAY,GAAI,IAAI;;IAEhD;IACA,IAAI4C,KAAK,CAAC5C,YAAY,GAAG,GAAG,EAAE;MAC1B4C,KAAK,CAACkG,KAAK,CAAClE,MAAM,GAAG,OAAO;MAC5BhC,KAAK,CAACkG,KAAK,CAACC,SAAS,GAAG,MAAM;IAClC,CAAC,MAAM;MACHnG,KAAK,CAACkG,KAAK,CAACC,SAAS,GAAG,QAAQ;IACpC;EACJ;EAEAR,aAAaA,CAAA,EAAG;IACZ,MAAM1F,OAAO,GAAG,IAAI,CAACD,KAAK,CAAC5D,KAAK,CAAC8D,IAAI,CAAC,CAAC;IACvC,IAAID,OAAO,EAAE;MACT,IAAI,CAACmG,aAAa,CAACnG,OAAO,CAAC;MAC3B,IAAI,CAACD,KAAK,CAAC5D,KAAK,GAAG,EAAE;MACrB,IAAI,CAAC2J,eAAe,CAAC,CAAC;IAC1B;EACJ;EAEAM,gBAAgBA,CAACC,KAAK,EAAE;IACpB,IAAI,CAACjB,WAAW,CAACxL,IAAI,CAACyM,KAAK,CAAC;IAC5B,IAAI,CAACC,iBAAiB,CAAC,CAAC;EAC5B;EAEAA,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAAChB,aAAa,CAACiB,SAAS,GAAG,EAAE;IAEjC,IAAI,CAACnB,WAAW,CAACtG,OAAO,CAAC,CAACuH,KAAK,EAAEG,KAAK,KAAK;MACvC,MAAMC,UAAU,GAAGtL,QAAQ,CAACuL,aAAa,CAAC,KAAK,CAAC;MAChDD,UAAU,CAACE,SAAS,GAAG,YAAY;;MAEnC;MACA,MAAMC,UAAU,GAAGzL,QAAQ,CAACuL,aAAa,CAAC,KAAK,CAAC;MAChDE,UAAU,CAACD,SAAS,GAAG,cAAc;MACrCC,UAAU,CAAC/I,WAAW,GAAG,KAAKwI,KAAK,CAACrG,OAAO,EAAE;MAC7CyG,UAAU,CAACI,WAAW,CAACD,UAAU,CAAC;;MAElC;MACA,IAAIP,KAAK,CAAC9H,WAAW,IAAI8H,KAAK,CAAC9H,WAAW,CAACM,MAAM,GAAG,CAAC,EAAE;QACnD,MAAMiI,cAAc,GAAG3L,QAAQ,CAACuL,aAAa,CAAC,KAAK,CAAC;QACpDI,cAAc,CAACH,SAAS,GAAG,uBAAuB;QAElDN,KAAK,CAAC9H,WAAW,CAACO,OAAO,CAAC,CAACZ,UAAU,EAAE6I,GAAG,KAAK;UAC3C,MAAMC,OAAO,GAAG7L,QAAQ,CAACuL,aAAa,CAAC,KAAK,CAAC;UAC7CM,OAAO,CAACL,SAAS,GAAG,oBAAoB;;UAExC;UACA,MAAMM,GAAG,GAAG9L,QAAQ,CAACuL,aAAa,CAAC,KAAK,CAAC;UACzCO,GAAG,CAACC,GAAG,GAAGhJ,UAAU,CAACvF,IAAI;UACzBsO,GAAG,CAACE,GAAG,GAAG,QAAQJ,GAAG,GAAG,CAAC,EAAE;;UAE3B;UACAE,GAAG,CAAC3L,gBAAgB,CAAC,OAAO,EAAE,MAAM,IAAI,CAAC8L,mBAAmB,CAAClJ,UAAU,CAACvF,IAAI,CAAC,CAAC;;UAE9E;UACA,MAAM0O,QAAQ,GAAGlM,QAAQ,CAACuL,aAAa,CAAC,KAAK,CAAC;UAC9CW,QAAQ,CAACV,SAAS,GAAG,qBAAqB;UAE1C,MAAMW,UAAU,GAAGnM,QAAQ,CAACuL,aAAa,CAAC,QAAQ,CAAC;UACnDY,UAAU,CAACzJ,WAAW,GAAG,mBAAmB;UAC5CyJ,UAAU,CAAChM,gBAAgB,CAAC,OAAO,EAAE,MAAM,IAAI,CAAC8L,mBAAmB,CAAClJ,UAAU,CAACvF,IAAI,CAAC,CAAC;UACrF0O,QAAQ,CAACR,WAAW,CAACS,UAAU,CAAC;;UAEhC;UACA,MAAM9I,OAAO,GAAGrD,QAAQ,CAACuL,aAAa,CAAC,KAAK,CAAC;UAC7ClI,OAAO,CAACmI,SAAS,GAAG,oBAAoB;UACxCnI,OAAO,CAACX,WAAW,GAAGK,UAAU,CAACM,OAAO,IAAI,QAAQuI,GAAG,GAAG,CAAC,EAAE;UAE7DC,OAAO,CAACH,WAAW,CAACI,GAAG,CAAC;UACxBD,OAAO,CAACH,WAAW,CAACQ,QAAQ,CAAC;UAC7BL,OAAO,CAACH,WAAW,CAACrI,OAAO,CAAC;UAC5BsI,cAAc,CAACD,WAAW,CAACG,OAAO,CAAC;QACvC,CAAC,CAAC;QAEFP,UAAU,CAACI,WAAW,CAACC,cAAc,CAAC;MAC1C;;MAEA;MACA,IAAIT,KAAK,CAACvN,KAAK,EAAE;QACb,MAAMyO,QAAQ,GAAGpM,QAAQ,CAACuL,aAAa,CAAC,KAAK,CAAC;QAC9Ca,QAAQ,CAACZ,SAAS,GAAG,eAAe;QACpCY,QAAQ,CAAC1J,WAAW,GAAGwI,KAAK,CAACvN,KAAK;QAClC2N,UAAU,CAACI,WAAW,CAACU,QAAQ,CAAC;MACpC;MAEA,IAAI,CAACjC,aAAa,CAACuB,WAAW,CAACJ,UAAU,CAAC;IAC9C,CAAC,CAAC;;IAEF;IACA,IAAI,CAACnB,aAAa,CAACkC,SAAS,GAAG,IAAI,CAAClC,aAAa,CAACnI,YAAY;EAClE;EAEAiK,mBAAmBA,CAACK,QAAQ,EAAE;IAC1B,MAAMC,aAAa,GAAGvM,QAAQ,CAACuL,aAAa,CAAC,KAAK,CAAC;IACnDgB,aAAa,CAACf,SAAS,GAAG,uBAAuB;IAEjD,MAAMM,GAAG,GAAG9L,QAAQ,CAACuL,aAAa,CAAC,KAAK,CAAC;IACzCO,GAAG,CAACC,GAAG,GAAGO,QAAQ;IAElB,MAAME,WAAW,GAAGxM,QAAQ,CAACuL,aAAa,CAAC,QAAQ,CAAC;IACpDiB,WAAW,CAAChB,SAAS,GAAG,cAAc;IACtCgB,WAAW,CAAC9J,WAAW,GAAG,GAAG;IAC7B8J,WAAW,CAACrM,gBAAgB,CAAC,OAAO,EAAE,MAAMoM,aAAa,CAACE,MAAM,CAAC,CAAC,CAAC;;IAEnE;IACAF,aAAa,CAACpM,gBAAgB,CAAC,OAAO,EAAG0I,CAAC,IAAK;MAC3C,IAAIA,CAAC,CAACT,MAAM,KAAKmE,aAAa,EAAE;QAC5BA,aAAa,CAACE,MAAM,CAAC,CAAC;MAC1B;IACJ,CAAC,CAAC;IAEFF,aAAa,CAACb,WAAW,CAACI,GAAG,CAAC;IAC9BS,aAAa,CAACb,WAAW,CAACc,WAAW,CAAC;IACtCxM,QAAQ,CAACjD,IAAI,CAAC2O,WAAW,CAACa,aAAa,CAAC;EAC5C;EAEA,MAAMvB,aAAaA,CAACnG,OAAO,EAAE;IACzB,MAAM6H,SAAS,GAAG;MACd7H,OAAO;MACPzB,WAAW,EAAE,EAAE;MACfuJ,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IACtC,CAAC;IAED,IAAI;MACA,IAAI,CAACC,SAAS,CAAC,CAAC;;MAEhB;MACA,MAAMC,WAAW,GAAG,MAAM,IAAI,CAAC/C,gBAAgB,CAACrF,cAAc,CAACE,OAAO,CAAC;MACvE,IAAI,CAACkI,WAAW,EAAE;QACd,MAAM,IAAIzP,KAAK,CAAC,iBAAiB,CAAC;MACtC;MAEAM,OAAO,CAACO,GAAG,CAAC,oBAAoB,EAAE4O,WAAW,CAAC;;MAE9C;MACA,IAAIA,WAAW,CAACpO,IAAI,KAAK,YAAY,EAAE;QACnC;QACA,MAAM,IAAI,CAAC6B,UAAU,CAACE,QAAQ,CAACqM,WAAW,CAACxM,GAAG,CAAC;;QAE/C;QACA,MAAM,IAAIT,OAAO,CAACC,OAAO,IAAI0H,UAAU,CAAC1H,OAAO,EAAE,IAAI,CAAC,CAAC;;QAEvD;QACA,MAAMgD,UAAU,GAAG,MAAM,IAAI,CAACvC,UAAU,CAACwC,iBAAiB,CAAC,CAAC;QAC5D,IAAID,UAAU,EAAE;UACZ2J,SAAS,CAACtJ,WAAW,CAAC3E,IAAI,CAAC;YACvBjB,IAAI,EAAEuF,UAAU;YAChBM,OAAO,EAAE;UACb,CAAC,CAAC;QACN;MACJ,CAAC,MAAM,IAAI0J,WAAW,CAACpO,IAAI,KAAK,mBAAmB,EAAE;QACjD;QACA,MAAM,IAAI,CAAC6B,UAAU,CAACW,aAAa,CAC9B3D,IAAI,IAAK;UACN,MAAMwP,MAAM,GAAGhN,QAAQ,CAACiN,cAAc,CAAC,iBAAiB,CAAC;UACzD,IAAID,MAAM,EAAE;YACRA,MAAM,CAAClC,KAAK,CAACoC,IAAI,GAAG,GAAG1P,IAAI,CAACmC,CAAC,IAAI;YACjCqN,MAAM,CAAClC,KAAK,CAACqC,GAAG,GAAG,GAAG3P,IAAI,CAACoC,CAAC,IAAI;YAChC,OAAO;cAAEsD,OAAO,EAAE;YAAK,CAAC;UAC5B;UACA,OAAO;YAAEA,OAAO,EAAE,KAAK;YAAEvF,KAAK,EAAE;UAAmB,CAAC;QACxD,CAAC,EACD,CAACoP,WAAW,CAChB,CAAC;MACL,CAAC,MAAM;QACH;QACA,MAAMpQ,QAAQ,GAAG,MAAMwH,MAAM,CAACC,OAAO,CAACC,WAAW,CAAC;UAC9C1F,IAAI,EAAE,iBAAiB;UACvBkG,OAAO,EAAEkI;QACb,CAAC,CAAC;QAEF,IAAI,EAACpQ,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEuG,OAAO,GAAE;UACpB,MAAM,IAAI5F,KAAK,CAAC,CAAAX,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEgB,KAAK,KAAI,0BAA0B,CAAC;QAClE;QAEA,IAAIhB,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEoG,UAAU,EAAE;UACtB2J,SAAS,CAACtJ,WAAW,CAAC3E,IAAI,CAAC;YACvBjB,IAAI,EAAEb,QAAQ,CAACoG,UAAU;YACzBM,OAAO,EAAE;UACb,CAAC,CAAC;QACN;MACJ;IAEJ,CAAC,CAAC,OAAO1F,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnD+O,SAAS,CAAC/O,KAAK,GAAGA,KAAK,CAACwF,OAAO;IACnC,CAAC,SAAS;MACN,IAAI,CAAC8H,gBAAgB,CAACyB,SAAS,CAAC;MAChC,IAAI,CAACU,QAAQ,CAAC,CAAC;MACf,IAAI,CAACxI,KAAK,CAAC5D,KAAK,GAAG,EAAE;MACrB,IAAI,CAAC2J,eAAe,CAAC,CAAC;IAC1B;EACJ;EAEAmC,SAASA,CAAA,EAAG;IACR,IAAI,CAAClI,KAAK,CAACyI,QAAQ,GAAG,IAAI;IAC1B,IAAI,CAACnD,UAAU,CAACmD,QAAQ,GAAG,IAAI;EACnC;EAEAD,QAAQA,CAAA,EAAG;IACP,IAAI,CAACxI,KAAK,CAACyI,QAAQ,GAAG,KAAK;IAC3B,IAAI,CAACnD,UAAU,CAACmD,QAAQ,GAAG,KAAK;IAChC,IAAI,CAACzI,KAAK,CAAC0I,KAAK,CAAC,CAAC;EACtB;EAEAxD,aAAaA,CAACiD,WAAW,EAAE;IACvB,OAAOlD,cAAc,CAACC,aAAa,CAC/BiD,WAAW,CAACpO,IAAI,EAChBoO,WAAW,CAAChJ,MAAM,IAAIgJ,WAAW,EACjC,IAAI,CAACvM,UACT,CAAC;EACL;AACJ;;AAEA;AACAR,QAAQ,CAACG,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;EAChDvC,OAAO,CAACO,GAAG,CAAC,qCAAqC,CAAC;EAClD+B,MAAM,CAACqN,WAAW,GAAG,IAAIxD,WAAW,CAAC,CAAC;AAC1C,CAAC,CAAC,C","sources":["webpack://qa-testing-assistant/./vision_service.js","webpack://qa-testing-assistant/./commands.js","webpack://qa-testing-assistant/./vision_commands.js","webpack://qa-testing-assistant/./command_processor.js","webpack://qa-testing-assistant/./browser_manager.js","webpack://qa-testing-assistant/./smart_commands.js","webpack://qa-testing-assistant/./command_factory.js","webpack://qa-testing-assistant/./popup.js"],"sourcesContent":["export class VisionService {\n    constructor() {\n        this.ollamaEndpoint = 'http://localhost:11434/api/generate';\n        this.model = 'llama3.2-vision';\n    }\n\n    async analyzeScreenshot(screenshotBase64) {\n        try {\n            // Remove data URL prefix if present and ensure proper base64 encoding\n            const base64Data = screenshotBase64.replace(/^data:image\\/[a-z]+;base64,/, '');\n            \n            const response = await fetch(this.ollamaEndpoint, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Cache-Control': 'no-cache',\n                    'Connection': 'keep-alive',\n                    'Access-Control-Allow-Origin': '*',\n                    'Access-Control-Allow-Methods': 'GET, POST, OPTIONS',\n                    'Access-Control-Allow-Headers': 'Content-Type'\n                },\n                body: JSON.stringify({\n                    model: this.model,\n                    stream: false,\n                    prompt: \"Analyze this webpage screenshot. Identify and describe: 1) Clickable elements 2) Input fields 3) Navigation elements 4) Main content areas 5) Layout structure. Focus on interactive elements and their locations.\",\n                    images: [base64Data]\n                })\n            });\n\n            if (!response.ok) {\n                throw new Error(`Vision API request failed: ${response.statusText}`);\n            }\n\n            const data = await response.json();\n            return this.parseVisionResponse(data);\n        } catch (error) {\n            console.error('Vision analysis failed:', error);\n            throw error;\n        }\n    }\n\n    parseVisionResponse(response) {\n        // Process the vision model's response to extract useful information\n        const analysis = {\n            elements: this.extractElements(response),\n            text: response.response, // Changed from response.text to response.response\n            suggestions: this.generateInteractionSuggestions(response)\n        };\n        \n        console.log('Vision Analysis:', analysis);\n        return analysis;\n    }\n\n    extractElements(response) {\n        // Extract information about UI elements from the vision response\n        const elements = [];\n        \n        try {\n            const text = response.response;\n            \n            // Extract clickable elements\n            const buttonMatches = text.match(/button[^\\.]*\\./gi) || [];\n            const linkMatches = text.match(/link[^\\.]*\\./gi) || [];\n            \n            // Extract input fields\n            const inputMatches = text.match(/input[^\\.]*\\./gi) || [];\n            const formMatches = text.match(/form[^\\.]*\\./gi) || [];\n            \n            elements.push(\n                ...buttonMatches.map(match => ({ type: 'button', description: match })),\n                ...linkMatches.map(match => ({ type: 'link', description: match })),\n                ...inputMatches.map(match => ({ type: 'input', description: match })),\n                ...formMatches.map(match => ({ type: 'form', description: match }))\n            );\n        } catch (error) {\n            console.error('Error extracting elements:', error);\n        }\n        \n        return elements;\n    }\n\n    generateInteractionSuggestions(response) {\n        const suggestions = [];\n        try {\n            const text = response.response;\n            \n            // Look for actionable elements\n            if (text.includes('button')) suggestions.push('Try clicking the identified buttons');\n            if (text.includes('input')) suggestions.push('You can fill out the input fields');\n            if (text.includes('form')) suggestions.push('Complete and submit the form');\n            if (text.includes('link')) suggestions.push('Navigate using the available links');\n            \n        } catch (error) {\n            console.error('Error generating suggestions:', error);\n        }\n        return suggestions;\n    }\n\n    async findElementByIntent(screenshotBase64, intent) {\n        try {\n            // Ask the vision model to specifically look for elements matching our intent\n            const response = await fetch(this.ollamaEndpoint, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    model: this.model,\n                    stream: false,\n                    prompt: `Find the best element matching this user intention: \"${intent}\"\n                            Consider:\n                            1. Element text and purpose\n                            2. Visual appearance and location\n                            3. Common patterns for this type of element\n                            4. Context and surrounding elements\n                            \n                            Describe the best matching element in detail, including:\n                            1. Exact location (top, bottom, left, right, center)\n                            2. Visual characteristics\n                            3. Confidence level (0-100)\n                            4. Why this is the best match\n                            \n                            Format response as JSON with these fields:\n                            {\"location\", \"description\", \"confidence\", \"reasoning\"}\n                            `,\n                    images: [screenshotBase64]\n                })\n            });\n\n            if (!response.ok) {\n                throw new Error(`Vision API request failed: ${response.statusText}`);\n            }\n\n            const data = await response.json();\n            return this.parseElementMatch(data);\n        } catch (error) {\n            console.error('Element finding failed:', error);\n            throw error;\n        }\n    }\n\n    parseElementMatch(response) {\n        try {\n            // Extract the JSON object from the model's text response\n            const jsonMatch = response.response.match(/\\{[^}]+\\}/);            \n            if (jsonMatch) {\n                const elementInfo = JSON.parse(jsonMatch[0]);\n                return {\n                    location: this.parseLocation(elementInfo.location),\n                    description: elementInfo.description,\n                    confidence: parseInt(elementInfo.confidence) / 100,\n                    reasoning: elementInfo.reasoning\n                };\n            }\n            return null;\n        } catch (error) {\n            console.error('Failed to parse element match:', error);\n            return null;\n        }\n    }\n\n    parseLocation(locationText) {\n        // Convert textual location to more precise coordinates\n        const coords = {\n            x: 0.5,  // Default to center\n            y: 0.5\n        };\n\n        // More granular coordinate adjustments\n        if (locationText.includes('top')) {\n            coords.y = locationText.includes('very top') ? 0.1 : 0.25;\n        }\n        if (locationText.includes('bottom')) {\n            coords.y = locationText.includes('very bottom') ? 0.9 : 0.75;\n        }\n        if (locationText.includes('left')) {\n            coords.x = locationText.includes('far left') ? 0.1 : 0.25;\n        }\n        if (locationText.includes('right')) {\n            coords.x = locationText.includes('far right') ? 0.9 : 0.75;\n        }\n        if (locationText.includes('center')) {\n            coords.x = 0.5;\n            coords.y = 0.5;\n        }\n\n        return coords;\n    }\n\n    // Helper method to ensure page is fully loaded\n    async waitForPageLoad() {\n        return new Promise((resolve) => {\n            if (document.readyState === 'complete') {\n                resolve();\n            } else {\n                window.addEventListener('load', resolve);\n            }\n        });\n    }\n}\n","// Import the vision service for vision-enhanced commands\nimport { VisionService } from './vision_service.js';\n\n// Base Command class for all commands\nexport class Command {\n    execute() {\n        throw new Error('Command must implement execute method');\n    }\n}\n\n// Navigation Command for handling URL navigation\nexport class NavigationCommand extends Command {\n    constructor(url, browserTab, skipFirstResult = false) {\n        super();\n        this.url = url;\n        this.browserTab = browserTab;\n        this.skipFirstResult = skipFirstResult;\n        console.log(`ðŸŒ Creating NavigationCommand for: ${this.url}`);\n    }\n\n    async execute() {\n        // Navigation implementation remains the same\n        try {\n            await this.browserTab.navigate(this.url);\n            return true;\n        } catch (error) {\n            console.error('Navigation failed:', error);\n            throw error;\n        }\n    }\n}\n\n// Search Command for handling search operations\nexport class SearchCommand extends Command {\n    constructor(query, browserTab) {\n        super();\n        this.query = query;\n        this.browserTab = browserTab;\n        console.log(`ðŸ” Creating SearchCommand for: \"${query}\"`);\n    }\n\n    async execute() {\n        try {\n            // Search implementation\n            const searchScript = (query) => {\n                const searchInput = document.querySelector('input[type=\"search\"]');\n                if (searchInput) {\n                    searchInput.value = query;\n                    searchInput.dispatchEvent(new Event('input'));\n                    return true;\n                }\n                return false;\n            };\n\n            return await this.browserTab.executeScript(searchScript, [this.query]);\n        } catch (error) {\n            console.error('Search failed:', error);\n            throw error;\n        }\n    }\n}\n\n// Back Command for browser history navigation\nexport class BackCommand extends Command {\n    constructor(browserTab) {\n        super();\n        this.browserTab = browserTab;\n        console.log('â¬…ï¸ Creating BackCommand');\n    }\n\n    async execute() {\n        try {\n            await this.browserTab.executeScript(() => window.history.back());\n            return true;\n        } catch (error) {\n            console.error('Back navigation failed:', error);\n            throw error;\n        }\n    }\n}\n\n// Forward Command for browser history navigation\nexport class ForwardCommand extends Command {\n    constructor(browserTab) {\n        super();\n        this.browserTab = browserTab;\n        console.log('âž¡ï¸ Creating ForwardCommand');\n    }\n\n    async execute() {\n        try {\n            await this.browserTab.executeScript(() => window.history.forward());\n            return true;\n        } catch (error) {\n            console.error('Forward navigation failed:', error);\n            throw error;\n        }\n    }\n}\n\n// Refresh Command for page reloading\nexport class RefreshCommand extends Command {\n    constructor(browserTab) {\n        super();\n        this.browserTab = browserTab;\n        console.log('ðŸ”„ Creating RefreshCommand');\n    }\n\n    async execute() {\n        try {\n            await this.browserTab.executeScript(() => window.location.reload());\n            return true;\n        } catch (error) {\n            console.error('Refresh failed:', error);\n            throw error;\n        }\n    }\n}\n\n// Scroll Command for page scrolling\nexport class ScrollCommand extends Command {\n    constructor(direction, browserTab) {\n        super();\n        this.direction = direction;\n        this.browserTab = browserTab;\n        console.log(`ðŸ”„ Creating ScrollCommand: ${direction}`);\n    }\n\n    async execute() {\n        try {\n            const scrollScript = (direction) => {\n                switch(direction) {\n                    case 'up': window.scrollBy(0, -300); break;\n                    case 'down': window.scrollBy(0, 300); break;\n                    case 'top': window.scrollTo(0, 0); break;\n                    case 'bottom': window.scrollTo(0, document.body.scrollHeight); break;\n                }\n                return true;\n            };\n\n            return await this.browserTab.executeScript(scrollScript, [this.direction]);\n        } catch (error) {\n            console.error('Scroll failed:', error);\n            throw error;\n        }\n    }\n}\n\n// Find Command for text finding\nexport class FindCommand extends Command {\n    constructor(text, browserTab) {\n        super();\n        this.text = text;\n        this.browserTab = browserTab;\n        console.log(`ðŸ” Creating FindCommand for: \"${text}\"`);\n    }\n\n    async execute() {\n        try {\n            const findScript = (searchText) => {\n                return window.find(searchText);\n            };\n            return await this.browserTab.executeScript(findScript, [this.text]);\n        } catch (error) {\n            console.error('Find failed:', error);\n            throw error;\n        }\n    }\n}\n\n// FindAndClick Command for finding and clicking elements\nexport class FindAndClickCommand extends Command {\n    constructor(text, browserTab) {\n        super();\n        this.text = text;\n        this.browserTab = browserTab;\n        console.log(`ðŸŽ¯ Creating FindAndClickCommand for: \"${text}\"`);\n    }\n\n    async execute() {\n        try {\n            const findAndClickScript = (searchText) => {\n                const elements = document.querySelectorAll('*');\n                for (const element of elements) {\n                    if (element.textContent?.includes(searchText)) {\n                        element.click();\n                        return true;\n                    }\n                }\n                return false;\n            };\n            return await this.browserTab.executeScript(findAndClickScript, [this.text]);\n        } catch (error) {\n            console.error('FindAndClick failed:', error);\n            throw error;\n        }\n    }\n}\n\n// End of command classes\n","import { VisionService } from './vision_service.js';\nimport { Command } from './commands.js';\n\n// Base class for vision-enhanced commands\nexport class VisionEnhancedCommand extends Command {\n    constructor(browserTab) {\n        super();\n        this.browserTab = browserTab;\n        this.visionService = new VisionService();\n    }\n}\n\n// Command for testing vision capabilities\nexport class TestVisionCommand extends VisionEnhancedCommand {\n    constructor(browserTab) {\n        super(browserTab);\n        console.log('ðŸ” Creating TestVisionCommand');\n    }\n\n    async execute() {\n        try {\n            console.log('ðŸ“¸ Capturing screenshot for vision test...');\n            const screenshot = await this.browserTab.captureScreenshot();\n            const base64Image = screenshot.replace(/^data:image\\/\\w+;base64,/, '');\n\n            console.log('ðŸ” Running vision analysis...');\n            const analysis = await this.visionService.analyzeScreenshot(base64Image);\n            console.log('ðŸ“Š Vision analysis results:', analysis);\n\n            return {\n                success: true,\n                message: 'Vision analysis completed',\n                screenshots: [{\n                    data: screenshot,\n                    caption: 'Analyzed Page'\n                }],\n                analysis: this.formatResults(analysis)\n            };\n        } catch (error) {\n            console.error('âŒ Vision test failed:', error);\n            throw error;\n        }\n    }\n\n    formatResults(analysis) {\n        let formatted = 'Vision Analysis Results:\\n\\n';\n\n        if (analysis.elements?.length > 0) {\n            formatted += 'ðŸ“ Interactive Elements Found:\\n';\n            analysis.elements.forEach(el => {\n                formatted += `â€¢ ${el.type}: ${el.description}\\n`;\n            });\n            formatted += '\\n';\n        }\n\n        if (analysis.suggestions?.length > 0) {\n            formatted += 'ðŸ’¡ Suggested Actions:\\n';\n            analysis.suggestions.forEach(suggestion => {\n                formatted += `â€¢ ${suggestion}\\n`;\n            });\n            formatted += '\\n';\n        }\n\n        if (analysis.text) {\n            formatted += 'ðŸ“ Detailed Analysis:\\n';\n            formatted += analysis.text;\n        }\n\n        return formatted;\n    }\n}\n\n// Command for locating elements using vision and text analysis\nexport class LocateCommand extends VisionEnhancedCommand {\n    constructor(browserTab, params) {\n        super(browserTab);\n        this.text = params.text;\n        this.section = params.section;\n        this.itemIndex = params.itemIndex;\n        console.log('ðŸ” Creating LocateCommand:', params);\n    }\n\n    async execute() {\n        try {\n            console.log('ðŸ” Locating element...');\n            \n            // First try direct DOM search\n            const elementFound = await this.browserTab.executeScript(\n                (data) => {\n                    return new Promise((resolve) => {\n                        chrome.runtime.sendMessage({\n                            type: 'LOCATE_ELEMENT',\n                            data\n                        }, resolve);\n                    });\n                },\n                [{\n                    text: this.text,\n                    section: this.section,\n                    itemIndex: this.itemIndex\n                }]\n            );\n\n            if (elementFound.success) {\n                console.log('âœ… Element found through DOM:', elementFound.element);\n                \n                // Capture screenshot with highlight\n                const screenshot = await this.browserTab.captureScreenshot();\n                \n                // Hide highlight after screenshot\n                await this.browserTab.executeScript(() => {\n                    return new Promise((resolve) => {\n                        chrome.runtime.sendMessage({\n                            type: 'HIDE_HIGHLIGHT'\n                        }, resolve);\n                    });\n                });\n\n                return {\n                    success: true,\n                    message: 'Element located successfully',\n                    element: elementFound.element,\n                    screenshots: [{\n                        data: screenshot,\n                        caption: `Located element: ${elementFound.element.text}`\n                    }]\n                };\n            }\n\n            // If DOM search fails, try vision-based search\n            console.log('ðŸ” Trying vision-based search...');\n            const screenshot = await this.browserTab.captureScreenshot();\n            const base64Image = screenshot.replace(/^data:image\\/\\w+;base64,/, '');\n\n            let prompt = '';\n            if (this.section && this.itemIndex) {\n                prompt = `Find the ${this.itemIndex}th item in the \"${this.section}\" section`;\n            } else if (this.section) {\n                prompt = `Find the section labeled \"${this.section}\"`;\n            } else {\n                prompt = `Find the element with text \"${this.text}\"`;\n            }\n\n            const elementInfo = await this.visionService.findElementByIntent(base64Image, prompt);\n            \n            if (elementInfo && elementInfo.confidence > 0.7) {\n                console.log('âœ… Element found through vision:', elementInfo);\n                \n                // Try to highlight the element using coordinates\n                await this.browserTab.executeScript(\n                    (coords) => {\n                        const element = document.elementFromPoint(\n                            coords.x * window.innerWidth,\n                            coords.y * window.innerHeight\n                        );\n                        if (element) {\n                            return new Promise((resolve) => {\n                                chrome.runtime.sendMessage({\n                                    type: 'LOCATE_ELEMENT',\n                                    data: { element }\n                                }, resolve);\n                            });\n                        }\n                    },\n                    [elementInfo.location]\n                );\n\n                // Capture screenshot with highlight\n                const highlightedScreenshot = await this.browserTab.captureScreenshot();\n                \n                // Hide highlight\n                await this.browserTab.executeScript(() => {\n                    return new Promise((resolve) => {\n                        chrome.runtime.sendMessage({\n                            type: 'HIDE_HIGHLIGHT'\n                        }, resolve);\n                    });\n                });\n\n                return {\n                    success: true,\n                    message: 'Element located through vision analysis',\n                    element: elementInfo,\n                    screenshots: [{\n                        data: highlightedScreenshot,\n                        caption: `Located element: ${elementInfo.description}`\n                    }]\n                };\n            }\n\n            throw new Error('Element not found');\n        } catch (error) {\n            console.error('âŒ Element location failed:', error);\n            throw error;\n        }\n    }\n}","import { TestVisionCommand, LocateCommand } from './vision_commands.js';\n\nexport class CommandProcessor {\n    constructor(browserTab) {\n        this.browserTab = browserTab;\n        console.log('ðŸ”§ Initializing CommandProcessor');\n    }\n\n    async processCommand(input) {\n        const command = input.trim();\n        console.log('Processing command:', command);\n\n        try {\n            // First try to parse as a standard command\n            const commandObj = this.parseCommand(command);\n            if (commandObj) {\n                console.log('Command parsed as:', commandObj);\n                return commandObj;\n            }\n\n            // Then try to parse as a locate command\n            const findMatch = command.match(/^find\\s+(.+)$/i);\n            if (findMatch) {\n                const query = findMatch[1];\n                \n                // Match \"find Nth item in Section\"\n                const itemInSectionMatch = query.match(/(\\d+)(?:st|nd|rd|th)?\\s+item\\s+in\\s+(.+)/i);\n                if (itemInSectionMatch) {\n                    return new LocateCommand(this.browserTab, {\n                        section: itemInSectionMatch[2],\n                        itemIndex: parseInt(itemInSectionMatch[1])\n                    });\n                }\n\n                // Match \"find tab/button/link Text\"\n                const elementTypeMatch = query.match(/^(tab|button|link)\\s+(.+)/i);\n                if (elementTypeMatch) {\n                    return new LocateCommand(this.browserTab, {\n                        text: elementTypeMatch[2],\n                        type: elementTypeMatch[1]\n                    });\n                }\n\n                // Default to simple text search\n                return new LocateCommand(this.browserTab, {\n                    text: query\n                });\n            }\n\n            throw new Error('Unknown command');\n        } catch (error) {\n            console.error('Command processing failed:', error);\n            throw new Error(`Command processing failed: ${error.message}`);\n        }\n    }\n\n    parseCommand(input) {\n        console.log('Parsing command:', input);\n        \n        const commands = [\n            // Mouse coordinate movement command\n            {\n                type: 'mouse_move_coords',\n                pattern: /^move mouse to coordinates (\\d+) (\\d+)$/i,\n                handler: (match) => ({\n                    type: 'mouse_move_coords',\n                    x: parseInt(match[1]),\n                    y: parseInt(match[2])\n                })\n            },\n            // Navigation commands\n            {\n                type: 'navigation',\n                pattern: /^(?:go|navigate|open|visit)(?:\\s+to)?\\s+([^\\s]+)/i,\n                handler: (match) => ({ \n                    type: 'navigation', \n                    url: match[1].toLowerCase(),\n                    skipFirstResult: false\n                })\n            },\n            // Basic browser commands\n            {\n                type: 'back',\n                pattern: /^back$/i,\n                handler: () => ({ type: 'back' })\n            },\n            {\n                type: 'forward',\n                pattern: /^forward$/i,\n                handler: () => ({ type: 'forward' })\n            },\n            {\n                type: 'refresh',\n                pattern: /^refresh$/i,\n                handler: () => ({ type: 'refresh' })\n            }\n        ];\n\n        for (const command of commands) {\n            const match = input.match(command.pattern);\n            if (match) {\n                console.log(`âœ… Command matched pattern: ${command.type}`);\n                return command.handler(match);\n            }\n        }\n\n        console.log('âŒ No pattern matched for input:', input);\n        return null;\n    }\n}\n","export class BrowserTabManager {\n    constructor() {\n        this.tabId = null;\n        this.windowId = null;\n        this.port = null;\n        this.initializeConnection();\n        console.log('ðŸ”§ Initializing BrowserTabManager');\n    }\n\n    initializeConnection() {\n        this.port = chrome.runtime.connect({ name: \"qa-window\" });\n        \n        this.port.onMessage.addListener(async (message) => {\n            if (message.type === 'INIT_STATE') {\n                this.tabId = message.browserTabId;\n                try {\n                    const tab = await chrome.tabs.get(this.tabId);\n                    this.windowId = tab.windowId;\n                    console.log(`ðŸ”§ Initialized with browser tab ID: ${this.tabId}`);\n                    \n                    // Check if we're in a valid context\n                    if (this.isInternalUrl(tab.url)) {\n                        await this.createNewTab();\n                    } else {\n                        await this.ensureTabActive();\n                    }\n                } catch (error) {\n                    console.error('Failed to get window ID:', error);\n                    await this.createNewTab();\n                }\n            }\n        });\n    }\n\n    isInternalUrl(url) {\n        if (!url) return true;\n        return url.startsWith('chrome://') || \n               url.startsWith('chrome-extension://') || \n               url.startsWith('brave://') ||\n               url.startsWith('devtools://');\n    }\n\n    async createNewTab() {\n        try {\n            console.log('Creating new browser tab...');\n            const tab = await chrome.windows.create({ \n                url: 'about:blank',\n                type: 'normal',  // Changed to normal for better compatibility\n                width: 1024,\n                height: 768,\n                focused: true\n            });\n            this.tabId = tab.tabs[0].id;\n            this.windowId = tab.id;\n            console.log(`Created new window with ID: ${this.windowId} and tab ID: ${this.tabId}`);\n            \n            await chrome.storage.local.set({ browserTabId: this.tabId });\n            return tab;\n        } catch (error) {\n            console.error('Failed to create new window:', error);\n            throw error;\n        }\n    }\n\n    async navigate(url) {\n        try {\n            await this.ensureTabActive();\n            \n            // Process the URL\n            let processedUrl = url.toLowerCase().trim();\n            if (!processedUrl.match(/^https?:\\/\\//)) {\n                processedUrl = `https://${processedUrl}`;\n            }\n            \n            console.log(`Navigating to: ${processedUrl}`);\n            \n            // Update the tab\n            const tab = await chrome.tabs.update(this.tabId, { url: processedUrl });\n            \n            // Wait for navigation to complete\n            await new Promise((resolve) => {\n                const listener = (tabId, changeInfo) => {\n                    if (tabId === this.tabId && changeInfo.status === 'complete') {\n                        chrome.tabs.onUpdated.removeListener(listener);\n                        resolve();\n                    }\n                };\n                chrome.tabs.onUpdated.addListener(listener);\n                \n                // Timeout after 30 seconds\n                setTimeout(() => {\n                    chrome.tabs.onUpdated.removeListener(listener);\n                    resolve();\n                }, 30000);\n            });\n            \n            // Additional delay to ensure page is fully loaded\n            await new Promise(resolve => setTimeout(resolve, 1000));\n\n            // Re-inject cursor after navigation\n            await chrome.runtime.sendMessage({ \n                type: 'EXECUTE_COMMAND',\n                command: { type: 'ensure_cursor' }\n            });\n            \n            return tab;\n        } catch (error) {\n            console.error('Navigation failed:', error);\n            throw error;\n        }\n    }\n\n    async ensureTabActive() {\n        if (!this.tabId || !this.windowId) {\n            console.log('No active tab, creating new one...');\n            await this.createNewTab();\n            return;\n        }\n        \n        try {\n            // Check if the current tab is valid\n            const tab = await chrome.tabs.get(this.tabId);\n            if (this.isInternalUrl(tab.url)) {\n                console.log('Current tab is internal, creating new one...');\n                await this.createNewTab();\n                return;\n            }\n            \n            await chrome.windows.update(this.windowId, { focused: true });\n            await chrome.tabs.update(this.tabId, { active: true });\n            await new Promise(resolve => setTimeout(resolve, 500));\n        } catch (error) {\n            console.error('Failed to activate tab:', error);\n            await this.createNewTab();\n        }\n    }\n\n    async captureScreenshot() {\n        try {\n            await this.ensureTabActive();\n            \n            // Check if we can capture screenshot\n            const tab = await chrome.tabs.get(this.tabId);\n            if (this.isInternalUrl(tab.url)) {\n                console.log('Cannot capture screenshot of internal page');\n                return null;\n            }\n            \n            const result = await chrome.tabs.captureVisibleTab(this.windowId, {\n                format: 'png',\n                quality: 100\n            });\n            return result;\n        } catch (error) {\n            console.error('âŒ Screenshot capture failed:', error);\n            return null;\n        }\n    }\n\n    async executeScript(func, args = []) {\n        await this.ensureTabActive();\n        try {\n            const results = await chrome.scripting.executeScript({\n                target: { tabId: this.tabId },\n                function: func,\n                args: args\n            });\n            return results[0]?.result;\n        } catch (error) {\n            console.error('âŒ Script execution failed:', error);\n            throw error;\n        }\n    }\n}","import { VisionService } from './vision_service.js';\nimport { Command } from './commands.js';\n\n// Smart click command that uses vision to understand and click elements\nexport class SmartClickCommand extends Command {\n    constructor(target, browserTab) {\n        super();\n        this.target = target;\n        this.browserTab = browserTab;\n        this.visionService = new VisionService();\n        console.log(`ðŸŽ¯ Creating SmartClickCommand for: \"${target}\"`);\n    }\n\n    async execute() {\n        try {\n            console.log(`ðŸ” Looking for element: \"${this.target}\"`);\n            \n            // First, understand the page\n            const screenshot = await this.browserTab.captureScreenshot();\n            const elementMatch = await this.visionService.findElementByIntent(\n                screenshot.replace(/^data:image\\/[a-z]+;base64,/, ''),\n                this.target\n            );\n\n            if (!elementMatch) {\n                throw new Error(`Could not find element matching: \"${this.target}\"`);\n            }\n\n            console.log('ðŸŽ¯ Found matching element:', {\n                description: elementMatch.description,\n                confidence: elementMatch.confidence,\n                location: elementMatch.location\n            });\n\n            // Click with high precision if we're confident\n            if (elementMatch.confidence > 0.8) {\n                const result = await this.clickWithVisionGuidance(elementMatch);\n                if (result) {\n                    console.log('âœ… Successfully clicked element');\n                    return true;\n                }\n            }\n\n            // Fall back to traditional clicking if vision guidance fails\n            console.log('âš ï¸ Trying traditional click methods...');\n            return await this.fallbackClick();\n\n        } catch (error) {\n            console.error('âŒ Smart click failed:', error);\n            throw error;\n        }\n    }\n\n    async clickWithVisionGuidance(elementMatch) {\n        const clickScript = (coords) => {\n            // Convert relative coordinates to pixels\n            const x = Math.floor(coords.x * window.innerWidth);\n            const y = Math.floor(coords.y * window.innerHeight);\n            \n            // Find and click element\n            const element = document.elementFromPoint(x, y);\n            if (element) {\n                try {\n                    // Try multiple click methods\n                    element.click();\n                    return true;\n                } catch (e) {\n                    try {\n                        // Create and dispatch click event\n                        const clickEvent = new MouseEvent('click', {\n                            view: window,\n                            bubbles: true,\n                            cancelable: true,\n                            clientX: x,\n                            clientY: y\n                        });\n                        element.dispatchEvent(clickEvent);\n                        return true;\n                    } catch (error) {\n                        console.error('Click simulation failed:', error);\n                        return false;\n                    }\n                }\n            }\n            return false;\n        };\n\n        const result = await this.browserTab.executeScript(\n            clickScript,\n            [elementMatch.location]\n        );\n\n        if (result && result[0]) {\n            await new Promise(resolve => setTimeout(resolve, 500));\n            await this.browserTab.captureScreenshot();\n            return true;\n        }\n\n        return false;\n    }\n\n    async fallbackClick() {\n        const traditionalClickScript = (target) => {\n            // Multiple strategies to find the element\n            const strategies = [\n                // By text content\n                () => Array.from(document.querySelectorAll('*')).find(\n                    el => el.textContent?.toLowerCase().includes(target.toLowerCase())\n                ),\n                // By various attributes\n                () => document.querySelector(`[aria-label*=\"${target}\" i]`),\n                () => document.querySelector(`[title*=\"${target}\" i]`),\n                () => document.querySelector(`[placeholder*=\"${target}\" i]`),\n                // By button text\n                () => Array.from(document.querySelectorAll('button')).find(\n                    btn => btn.textContent?.toLowerCase().includes(target.toLowerCase())\n                )\n            ];\n\n            // Try each strategy\n            for (const strategy of strategies) {\n                try {\n                    const element = strategy();\n                    if (element) {\n                        element.click();\n                        return true;\n                    }\n                } catch (e) {\n                    continue;\n                }\n            }\n            \n            return false;\n        };\n\n        const result = await this.browserTab.executeScript(\n            traditionalClickScript,\n            [this.target]\n        );\n\n        return result && result[0];\n    }\n}","import { SmartClickCommand } from './smart_commands.js';\nimport { NavigationCommand, SearchCommand, BackCommand, ForwardCommand, \n         RefreshCommand, ScrollCommand, FindCommand, FindAndClickCommand } from './commands.js';\nimport { TestVisionCommand } from './vision_commands.js';\n\nexport class CommandFactory {\n    static createCommand(type, params, browserTab) {\n        console.log(`ðŸ­ Creating command of type: ${type} with params:`, params);\n        \n        switch (type) {\n            case 'click':\n            case 'smartClick':\n                return new SmartClickCommand(params.target, browserTab);\n                \n            case 'test_vision':\n                return new TestVisionCommand(browserTab);\n                \n            case 'navigation':\n                return new NavigationCommand(params.url, browserTab, params.skipFirstResult);\n                \n            case 'search':\n                return new SearchCommand(params.query, browserTab);\n                \n            case 'back':\n                return new BackCommand(browserTab);\n                \n            case 'forward':\n                return new ForwardCommand(browserTab);\n                \n            case 'refresh':\n                return new RefreshCommand(browserTab);\n                \n            case 'scroll':\n                return new ScrollCommand(params.direction, browserTab);\n                \n            case 'find':\n                return new FindCommand(params.text, browserTab);\n                \n            case 'findAndClick':\n                return new FindAndClickCommand(params.text, browserTab);\n                \n            default:\n                throw new Error(`Unknown command type: ${type}`);\n        }\n    }\n}","// Import all dependencies\nimport { CommandProcessor } from './command_processor.js';\nimport { BrowserTabManager } from './browser_manager.js';\nimport { CommandFactory } from './command_factory.js';\n\n// Original class definition in place\nclass QAInterface {\n    constructor() {\n        // Initialize components\n        this.commandProcessor = new CommandProcessor();\n        this.browserTab = new BrowserTabManager();\n        this.chatHistory = [];\n        \n        // Get DOM elements\n        this.input = document.querySelector('#command-input');\n        this.sendButton = document.querySelector('#send-button');\n        this.screenshotDiv = document.querySelector('#screenshot');\n        \n        if (!this.input || !this.sendButton || !this.screenshotDiv) {\n            console.error('âŒ Required DOM elements not found');\n            return;\n        }\n\n        this.setupEventListeners();\n        this.setupAutoResize();\n        console.log('ðŸ”§ QAInterface initialized');\n    }\n\n    setupEventListeners() {\n        // Send button click\n        this.sendButton.addEventListener('click', (e) => {\n            e.preventDefault();\n            this.submitCommand();\n        });\n\n        // Enter key press (without shift)\n        this.input.addEventListener('keydown', (event) => {\n            if (event.key === 'Enter' && !event.shiftKey) {\n                event.preventDefault();\n                this.submitCommand();\n            }\n        });\n\n        // Input changes for auto-resize\n        this.input.addEventListener('input', () => {\n            this.autoResizeInput();\n        });\n    }\n\n    setupAutoResize() {\n        // Set initial height\n        this.autoResizeInput();\n        \n        // Observe window resize\n        new ResizeObserver(() => {\n            this.autoResizeInput();\n        }).observe(this.input);\n    }\n\n    autoResizeInput() {\n        const input = this.input;\n        input.style.height = 'auto';\n        input.style.height = (input.scrollHeight) + 'px';\n        \n        // Limit max height\n        if (input.scrollHeight > 120) {\n            input.style.height = '120px';\n            input.style.overflowY = 'auto';\n        } else {\n            input.style.overflowY = 'hidden';\n        }\n    }\n\n    submitCommand() {\n        const command = this.input.value.trim();\n        if (command) {\n            this.handleCommand(command);\n            this.input.value = '';\n            this.autoResizeInput();\n        }\n    }\n\n    addToChatHistory(entry) {\n        this.chatHistory.push(entry);\n        this.updateChatDisplay();\n    }\n\n    updateChatDisplay() {\n        this.screenshotDiv.innerHTML = '';\n        \n        this.chatHistory.forEach((entry, index) => {\n            const messageDiv = document.createElement('div');\n            messageDiv.className = 'chat-entry';\n            \n            // Add command text\n            const commandDiv = document.createElement('div');\n            commandDiv.className = 'command-text';\n            commandDiv.textContent = `> ${entry.command}`;\n            messageDiv.appendChild(commandDiv);\n\n            // Add screenshots if any\n            if (entry.screenshots && entry.screenshots.length > 0) {\n                const screenshotsDiv = document.createElement('div');\n                screenshotsDiv.className = 'screenshots-container';\n                \n                entry.screenshots.forEach((screenshot, idx) => {\n                    const wrapper = document.createElement('div');\n                    wrapper.className = 'screenshot-wrapper';\n                    \n                    // Create image\n                    const img = document.createElement('img');\n                    img.src = screenshot.data;\n                    img.alt = `Step ${idx + 1}`;\n                    \n                    // Add click handler for fullscreen\n                    img.addEventListener('click', () => this.showFullscreenImage(screenshot.data));\n                    \n                    // Add controls\n                    const controls = document.createElement('div');\n                    controls.className = 'screenshot-controls';\n                    \n                    const zoomButton = document.createElement('button');\n                    zoomButton.textContent = 'ðŸ” View Full Size';\n                    zoomButton.addEventListener('click', () => this.showFullscreenImage(screenshot.data));\n                    controls.appendChild(zoomButton);\n                    \n                    // Add caption\n                    const caption = document.createElement('div');\n                    caption.className = 'screenshot-caption';\n                    caption.textContent = screenshot.caption || `Step ${idx + 1}`;\n                    \n                    wrapper.appendChild(img);\n                    wrapper.appendChild(controls);\n                    wrapper.appendChild(caption);\n                    screenshotsDiv.appendChild(wrapper);\n                });\n                \n                messageDiv.appendChild(screenshotsDiv);\n            }\n\n            // Add any error messages\n            if (entry.error) {\n                const errorDiv = document.createElement('div');\n                errorDiv.className = 'error-message';\n                errorDiv.textContent = entry.error;\n                messageDiv.appendChild(errorDiv);\n            }\n\n            this.screenshotDiv.appendChild(messageDiv);\n        });\n\n        // Scroll to bottom\n        this.screenshotDiv.scrollTop = this.screenshotDiv.scrollHeight;\n    }\n\n    showFullscreenImage(imageUrl) {\n        const fullscreenDiv = document.createElement('div');\n        fullscreenDiv.className = 'screenshot-fullscreen';\n        \n        const img = document.createElement('img');\n        img.src = imageUrl;\n        \n        const closeButton = document.createElement('button');\n        closeButton.className = 'close-button';\n        closeButton.textContent = 'Ã—';\n        closeButton.addEventListener('click', () => fullscreenDiv.remove());\n        \n        // Close on background click\n        fullscreenDiv.addEventListener('click', (e) => {\n            if (e.target === fullscreenDiv) {\n                fullscreenDiv.remove();\n            }\n        });\n        \n        fullscreenDiv.appendChild(img);\n        fullscreenDiv.appendChild(closeButton);\n        document.body.appendChild(fullscreenDiv);\n    }\n\n    async handleCommand(command) {\n        const chatEntry = {\n            command,\n            screenshots: [],\n            timestamp: new Date().toISOString()\n        };\n\n        try {\n            this.disableUI();\n            \n            // Process command to get structured data\n            const commandData = await this.commandProcessor.processCommand(command);\n            if (!commandData) {\n                throw new Error('Invalid command');\n            }\n\n            console.log('Executing command:', commandData);\n\n            // Handle different command types\n            if (commandData.type === 'navigation') {\n                // Handle navigation directly through browser manager\n                await this.browserTab.navigate(commandData.url);\n                \n                // Wait a bit for the page to settle\n                await new Promise(resolve => setTimeout(resolve, 1000));\n                \n                // Try to capture screenshot after navigation\n                const screenshot = await this.browserTab.captureScreenshot();\n                if (screenshot) {\n                    chatEntry.screenshots.push({\n                        data: screenshot,\n                        caption: 'Navigation Result'\n                    });\n                }\n            } else if (commandData.type === 'mouse_move_coords') {\n                // Handle mouse movement\n                await this.browserTab.executeScript(\n                    (data) => {\n                        const cursor = document.getElementById('qa-mouse-cursor');\n                        if (cursor) {\n                            cursor.style.left = `${data.x}px`;\n                            cursor.style.top = `${data.y}px`;\n                            return { success: true };\n                        }\n                        return { success: false, error: 'Cursor not found' };\n                    },\n                    [commandData]\n                );\n            } else {\n                // For other commands, send to background script\n                const response = await chrome.runtime.sendMessage({\n                    type: 'EXECUTE_COMMAND',\n                    command: commandData\n                });\n\n                if (!response?.success) {\n                    throw new Error(response?.error || 'Command execution failed');\n                }\n\n                if (response?.screenshot) {\n                    chatEntry.screenshots.push({\n                        data: response.screenshot,\n                        caption: 'Command Result'\n                    });\n                }\n            }\n\n        } catch (error) {\n            console.error('âŒ Command execution failed:', error);\n            chatEntry.error = error.message;\n        } finally {\n            this.addToChatHistory(chatEntry);\n            this.enableUI();\n            this.input.value = '';\n            this.autoResizeInput();\n        }\n    }\n\n    disableUI() {\n        this.input.disabled = true;\n        this.sendButton.disabled = true;\n    }\n\n    enableUI() {\n        this.input.disabled = false;\n        this.sendButton.disabled = false;\n        this.input.focus();\n    }\n\n    createCommand(commandData) {\n        return CommandFactory.createCommand(\n            commandData.type, \n            commandData.params || commandData, \n            this.browserTab\n        );\n    }\n}\n\n// Initialize when the document is ready\ndocument.addEventListener('DOMContentLoaded', () => {\n    console.log('ðŸš€ Starting QA Testing Assistant...');\n    window.qaInterface = new QAInterface();\n});\n"],"names":["VisionService","constructor","ollamaEndpoint","model","analyzeScreenshot","screenshotBase64","base64Data","replace","response","fetch","method","headers","body","JSON","stringify","stream","prompt","images","ok","Error","statusText","data","json","parseVisionResponse","error","console","analysis","elements","extractElements","text","suggestions","generateInteractionSuggestions","log","buttonMatches","match","linkMatches","inputMatches","formMatches","push","map","type","description","includes","findElementByIntent","intent","parseElementMatch","jsonMatch","elementInfo","parse","location","parseLocation","confidence","parseInt","reasoning","locationText","coords","x","y","waitForPageLoad","Promise","resolve","document","readyState","window","addEventListener","Command","execute","NavigationCommand","url","browserTab","skipFirstResult","navigate","SearchCommand","query","searchScript","searchInput","querySelector","value","dispatchEvent","Event","executeScript","BackCommand","history","back","ForwardCommand","forward","RefreshCommand","reload","ScrollCommand","direction","scrollScript","scrollBy","scrollTo","scrollHeight","FindCommand","findScript","searchText","find","FindAndClickCommand","findAndClickScript","querySelectorAll","element","_element$textContent","textContent","click","VisionEnhancedCommand","visionService","TestVisionCommand","screenshot","captureScreenshot","base64Image","success","message","screenshots","caption","formatResults","_analysis$elements","_analysis$suggestions","formatted","length","forEach","el","suggestion","LocateCommand","params","section","itemIndex","elementFound","chrome","runtime","sendMessage","elementFromPoint","innerWidth","innerHeight","highlightedScreenshot","CommandProcessor","processCommand","input","command","trim","commandObj","parseCommand","findMatch","itemInSectionMatch","elementTypeMatch","commands","pattern","handler","toLowerCase","BrowserTabManager","tabId","windowId","port","initializeConnection","connect","name","onMessage","addListener","browserTabId","tab","tabs","get","isInternalUrl","createNewTab","ensureTabActive","startsWith","windows","create","width","height","focused","id","storage","local","set","processedUrl","update","listener","changeInfo","status","onUpdated","removeListener","setTimeout","active","result","captureVisibleTab","format","quality","func","args","_results$","results","scripting","target","function","SmartClickCommand","elementMatch","clickWithVisionGuidance","fallbackClick","clickScript","Math","floor","e","clickEvent","MouseEvent","view","bubbles","cancelable","clientX","clientY","traditionalClickScript","strategies","Array","from","_el$textContent","btn","_btn$textContent","strategy","CommandFactory","createCommand","QAInterface","commandProcessor","chatHistory","sendButton","screenshotDiv","setupEventListeners","setupAutoResize","preventDefault","submitCommand","event","key","shiftKey","autoResizeInput","ResizeObserver","observe","style","overflowY","handleCommand","addToChatHistory","entry","updateChatDisplay","innerHTML","index","messageDiv","createElement","className","commandDiv","appendChild","screenshotsDiv","idx","wrapper","img","src","alt","showFullscreenImage","controls","zoomButton","errorDiv","scrollTop","imageUrl","fullscreenDiv","closeButton","remove","chatEntry","timestamp","Date","toISOString","disableUI","commandData","cursor","getElementById","left","top","enableUI","disabled","focus","qaInterface"],"sourceRoot":""}